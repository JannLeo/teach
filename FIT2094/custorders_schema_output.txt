SQL> 
SQL> --student id: 34550720
SQL> --student name: Haoxuan Zhang
SQL> 
SQL> 
SQL> -- Generated by Oracle SQL Developer Data Modeler 24.3.1.351.0831
SQL> --   at:        2025-04-28 02:14:24 AEST
SQL> --   site:      Oracle Database 12c
SQL> --   type:      Oracle Database 12c
SQL> 
SQL> 
SQL> DROP TABLE Cabin CASCADE CONSTRAINTS 
  2  ;

Table CABIN已删除。

SQL> 
SQL> DROP TABLE Country CASCADE CONSTRAINTS 
  2  ;

Table COUNTRY已删除。

SQL> 
SQL> DROP TABLE Cruise CASCADE CONSTRAINTS 
  2  ;

Table CRUISE已删除。

SQL> 
SQL> DROP TABLE Manifest CASCADE CONSTRAINTS 
  2  ;

Table MANIFEST已删除。

SQL> 
SQL> DROP TABLE Operator CASCADE CONSTRAINTS 
  2  ;

Table OPERATOR已删除。

SQL> 
SQL> DROP TABLE Passenger CASCADE CONSTRAINTS 
  2  ;

Table PASSENGER已删除。

SQL> 
SQL> DROP TABLE Port CASCADE CONSTRAINTS 
  2  ;

Table PORT已删除。

SQL> 
SQL> DROP TABLE Ship CASCADE CONSTRAINTS 
  2  ;

Table SHIP已删除。

SQL> 
SQL> DROP TABLE Visit CASCADE CONSTRAINTS 
  2  ;

Table VISIT已删除。

SQL> 
SQL> -- predefined type, no DDL - MDSYS.SDO_GEOMETRY
SQL> 
SQL> -- predefined type, no DDL - XMLTYPE
SQL> 
SQL> CREATE TABLE Cabin 
  2      ( 
  3       cabin_number      VARCHAR2 (8)  NOT NULL , 
  4       ship_code         NUMBER (20)  NOT NULL , 
  5       sleeping_capacity NUMBER (8)  NOT NULL , 
  6       cabin_class       VARCHAR2 (10)  NOT NULL 
  7      ) 
  8  ;

Table CABIN 已创建。

SQL> 
SQL> ALTER TABLE Cabin 
  2      ADD CONSTRAINT ship_cabinclass 
  3      CHECK (cabin_class IN ('B', 'I', 'OV', 'S')) 
  4  ;

Table CABIN已变更。

SQL> 
SQL> COMMENT ON COLUMN Cabin.cabin_number IS 'The cabins on a given ship are identified by a cabin number' 
  2  ;

Comment 已创建。

SQL> 
SQL> COMMENT ON COLUMN Cabin.ship_code IS 'a ship code to identify the ship' 
  2  ;

Comment 已创建。

SQL> 
SQL> COMMENT ON COLUMN Cabin.sleeping_capacity IS 'a particular cabin''s sleeping capacity' 
  2  ;

Comment 已创建。

SQL> 
SQL> COMMENT ON COLUMN Cabin.cabin_class IS ' the cabin''s class for a given ship' 
  2  ;

Comment 已创建。

SQL> 
SQL> ALTER TABLE Cabin 
  2      ADD CONSTRAINT CABIN_PK PRIMARY KEY ( cabin_number, ship_code ) ;

Table CABIN已变更。

SQL> 
SQL> CREATE TABLE Country 
  2      ( 
  3       Country_code CHAR (3)  NOT NULL , 
  4       Country_name VARCHAR2 (20)  NOT NULL 
  5      ) 
  6  ;

Table COUNTRY 已创建。

SQL> 
SQL> COMMENT ON COLUMN Country.Country_code IS 'country code' 
  2  ;

Comment 已创建。

SQL> 
SQL> COMMENT ON COLUMN Country.Country_name IS 'country name' 
  2  ;

Comment 已创建。

SQL> 
SQL> ALTER TABLE Country 
  2      ADD CONSTRAINT COUNTRY_PK PRIMARY KEY ( Country_code ) ;

Table COUNTRY已变更。

SQL> 
SQL> CREATE TABLE Cruise 
  2      ( 
  3       cruise_id      NUMBER (10)  NOT NULL , 
  4       cruise_name    VARCHAR2 (100)  NOT NULL , 
  5       description    VARCHAR2 (100)  NOT NULL , 
  6       departure_date DATE  NOT NULL , 
  7       departure_time DATE  NOT NULL , 
  8       cost_perperson NUMBER (10)  NOT NULL , 
  9       ship_code      NUMBER (20)  NOT NULL 
 10      ) 
 11  ;

Table CRUISE 已创建。

SQL> 
SQL> COMMENT ON COLUMN Cruise.cruise_id IS 'A cruise ID identifies each such cruise' 
  2  ;

Comment 已创建。

SQL> 
SQL> COMMENT ON COLUMN Cruise.cruise_name IS 'the name of the cruise' 
  2  ;

Comment 已创建。

SQL> 
SQL> COMMENT ON COLUMN Cruise.description IS ' a brief description of the cruise' 
  2  ;

Comment 已创建。

SQL> 
SQL> COMMENT ON COLUMN Cruise.departure_date IS 'departs on a particular date' 
  2  ;

Comment 已创建。

SQL> 
SQL> COMMENT ON COLUMN Cruise.departure_time IS 'departs at a particular time' 
  2  ;

Comment 已创建。

SQL> 
SQL> COMMENT ON COLUMN Cruise.cost_perperson IS 'cost per person' 
  2  ;

Comment 已创建。

SQL> 
SQL> COMMENT ON COLUMN Cruise.ship_code IS 'a ship code to identify the ship' 
  2  ;

Comment 已创建。

SQL> 
SQL> ALTER TABLE Cruise 
  2      ADD CONSTRAINT CRUISE_PK PRIMARY KEY ( cruise_id ) ;

Table CRUISE已变更。

SQL> 
SQL> CREATE TABLE Manifest 
  2      ( 
  3       cruise_id        NUMBER (10)  NOT NULL , 
  4       passenger_id     VARCHAR2 (20)  NOT NULL , 
  5       cabin_number     VARCHAR2 (8)  NOT NULL , 
  6       ship_code        NUMBER (20)  NOT NULL , 
  7       boarded_datetime DATE  NOT NULL 
  8      ) 
  9  ;

Table MANIFEST 已创建。

SQL> 
SQL> COMMENT ON COLUMN Manifest.cruise_id IS 'A cruise ID identifies each such cruise' 
  2  ;

Comment 已创建。

SQL> 
SQL> COMMENT ON COLUMN Manifest.passenger_id IS 'passenger id' 
  2  ;

Comment 已创建。

SQL> 
SQL> COMMENT ON COLUMN Manifest.cabin_number IS 'The cabins on a given ship are identified by a cabin number' 
  2  ;

Comment 已创建。

SQL> 
SQL> COMMENT ON COLUMN Manifest.ship_code IS 'a ship code to identify the ship' 
  2  ;

Comment 已创建。

SQL> 
SQL> COMMENT ON COLUMN Manifest.boarded_datetime IS 'boarded date and time' 
  2  ;

Comment 已创建。

SQL> 
SQL> ALTER TABLE Manifest 
  2      ADD CONSTRAINT Manifest_PK PRIMARY KEY ( cruise_id, passenger_id ) ;

Table MANIFEST已变更。

SQL> 
SQL> CREATE TABLE Operator 
  2      ( 
  3       operator_id  NUMBER (30)  NOT NULL , 
  4       company_name VARCHAR2 (20)  NOT NULL , 
  5       ceo_name     VARCHAR2 (20)  NOT NULL 
  6      ) 
  7  ;

Table OPERATOR 已创建。

SQL> 
SQL> COMMENT ON COLUMN Operator.operator_id IS 'operator ID as an identifier' 
  2  ;

Comment 已创建。

SQL> 
SQL> COMMENT ON COLUMN Operator.company_name IS 'company''s name' 
  2  ;

Comment 已创建。

SQL> 
SQL> COMMENT ON COLUMN Operator.ceo_name IS 'Chief Executive Officer''s name' 
  2  ;

Comment 已创建。

SQL> 
SQL> ALTER TABLE Operator 
  2      ADD CONSTRAINT OPERATOR_PK PRIMARY KEY ( operator_id ) ;

Table OPERATOR已变更。

SQL> 
SQL> CREATE TABLE Passenger 
  2      ( 
  3       passenger_id  VARCHAR2 (20)  NOT NULL , 
  4       first_name    VARCHAR2 (15)  NOT NULL , 
  5       last_name     VARCHAR2 (15)  NOT NULL , 
  6       date_of_birth DATE  NOT NULL , 
  7       gender        VARCHAR2 (10)  NOT NULL , 
  8       P_street      VARCHAR2 (15)  NOT NULL , 
  9       P_town        VARCHAR2 (15)  NOT NULL , 
 10       P_postcode    VARCHAR2 (15)  NOT NULL , 
 11       Country       VARCHAR2 (15)  NOT NULL , 
 12       phone_number  VARCHAR2 (20) , 
 13       passenger_id1 VARCHAR2 (20) 
 14      ) 
 15  ;

Table PASSENGER 已创建。

SQL> 
SQL> ALTER TABLE Passenger 
  2      ADD CONSTRAINT "F/M" 
  3      CHECK (gender IN ('F', 'M')) 
  4  ;

Table PASSENGER已变更。

SQL> 
SQL> COMMENT ON COLUMN Passenger.passenger_id IS 'passenger id' 
  2  ;

Comment 已创建。

SQL> 
SQL> COMMENT ON COLUMN Passenger.first_name IS 'passenger first name' 
  2  ;

Comment 已创建。

SQL> 
SQL> COMMENT ON COLUMN Passenger.last_name IS 'passenger last name' 
  2  ;

Comment 已创建。

SQL> 
SQL> COMMENT ON COLUMN Passenger.date_of_birth IS 'passengers'' date of birth' 
  2  ;

Comment 已创建。

SQL> 
SQL> COMMENT ON COLUMN Passenger.gender IS 'passenger gender' 
  2  ;

Comment 已创建。

SQL> 
SQL> COMMENT ON COLUMN Passenger.P_street IS 'passenger_street' 
  2  ;

Comment 已创建。

SQL> 
SQL> COMMENT ON COLUMN Passenger.P_town IS 'passenger_town' 
  2  ;

Comment 已创建。

SQL> 
SQL> COMMENT ON COLUMN Passenger.P_postcode IS 'passenger postcoode' 
  2  ;

Comment 已创建。

SQL> 
SQL> COMMENT ON COLUMN Passenger.Country IS 'passengers'' country' 
  2  ;

Comment 已创建。

SQL> 
SQL> COMMENT ON COLUMN Passenger.phone_number IS 'passenger phone number' 
  2  ;

Comment 已创建。

SQL> 
SQL> COMMENT ON COLUMN Passenger.passenger_id1 IS 'passenger id' 
  2  ;

Comment 已创建。

SQL> 
SQL> ALTER TABLE Passenger 
  2      ADD CONSTRAINT Passenger_PK PRIMARY KEY ( passenger_id ) ;

Table PASSENGER已变更。

SQL> 
SQL> CREATE TABLE Port 
  2      ( 
  3       Port_code      VARCHAR2 (10)  NOT NULL , 
  4       Port_name      VARCHAR2 (20)  NOT NULL , 
  5       Port_latitude  NUMBER (10,6)  NOT NULL , 
  6       Port_longitude NUMBER (10,6)  NOT NULL , 
  7       Country_code   CHAR (3)  NOT NULL 
  8      ) 
  9  ;

Table PORT 已创建。

SQL> 
SQL> COMMENT ON COLUMN Port.Port_code IS 'Port code' 
  2  ;

Comment 已创建。

SQL> 
SQL> COMMENT ON COLUMN Port.Port_name IS 'port name' 
  2  ;

Comment 已创建。

SQL> 
SQL> COMMENT ON COLUMN Port.Port_latitude IS 'Port latitude' 
  2  ;

Comment 已创建。

SQL> 
SQL> COMMENT ON COLUMN Port.Port_longitude IS 'Port longtitude' 
  2  ;

Comment 已创建。

SQL> 
SQL> COMMENT ON COLUMN Port.Country_code IS 'country code' 
  2  ;

Comment 已创建。

SQL> 
SQL> ALTER TABLE Port 
  2      ADD CONSTRAINT PORT_PK PRIMARY KEY ( Port_code ) ;

Table PORT已变更。

SQL> 
SQL> CREATE TABLE Ship 
  2      ( 
  3       ship_code          NUMBER (20)  NOT NULL , 
  4       ship_name          VARCHAR2 (30)  NOT NULL , 
  5       commissioned_date  DATE  NOT NULL , 
  6       tonnage            NUMBER  NOT NULL , 
  7       max_guest_capacity NUMBER  NOT NULL , 
  8       registered_country VARCHAR2 (20)  NOT NULL , 
  9       operator_id        NUMBER (30)  NOT NULL 
 10      ) 
 11  ;

Table SHIP 已创建。

SQL> 
SQL> COMMENT ON COLUMN Ship.ship_code IS 'a ship code to identify the ship' 
  2  ;

Comment 已创建。

SQL> 
SQL> COMMENT ON COLUMN Ship.ship_name IS 'the ship''s name' 
  2  ;

Comment 已创建。

SQL> 
SQL> COMMENT ON COLUMN Ship.commissioned_date IS 'the date the ship was commissioned' 
  2  ;

Comment 已创建。

SQL> 
SQL> COMMENT ON COLUMN Ship.tonnage IS 'tonnage of ship' 
  2  ;

Comment 已创建。

SQL> 
SQL> COMMENT ON COLUMN Ship.max_guest_capacity IS 'maximum guest capacity of ship' 
  2  ;

Comment 已创建。

SQL> 
SQL> COMMENT ON COLUMN Ship.registered_country IS 'the name of the country where the ship is registered.' 
  2  ;

Comment 已创建。

SQL> 
SQL> COMMENT ON COLUMN Ship.operator_id IS 'operator ID as an identifier' 
  2  ;

Comment 已创建。

SQL> 
SQL> ALTER TABLE Ship 
  2      ADD CONSTRAINT SHIP_PK PRIMARY KEY ( ship_code ) ;

Table SHIP已变更。

SQL> 
SQL> CREATE TABLE Visit 
  2      ( 
  3       cruise_id        NUMBER (10)  NOT NULL , 
  4       Port_code        VARCHAR2 (20)  NOT NULL , 
  5       Datetime         DATE  NOT NULL , 
  6       DepartureArrival VARCHAR2 (10)  NOT NULL , 
  7       visit_id         NUMBER (10)  NOT NULL 
  8      ) 
  9  ;

Table VISIT 已创建。

SQL> 
SQL> ALTER TABLE Visit 
  2      ADD CONSTRAINT D_A 
  3      CHECK (DepartureArrival IN ('A', 'D')) 
  4  ;

Table VISIT已变更。

SQL> 
SQL> COMMENT ON COLUMN Visit.cruise_id IS 'A cruise ID identifies each such cruise' 
  2  ;

Comment 已创建。

SQL> 
SQL> COMMENT ON COLUMN Visit.Port_code IS 'Port code' 
  2  ;

Comment 已创建。

SQL> 
SQL> COMMENT ON COLUMN Visit.Datetime IS 'Datetime of visit' 
  2  ;

Comment 已创建。

SQL> 
SQL> COMMENT ON COLUMN Visit.DepartureArrival IS 'Departure or Arrival' 
  2  ;

Comment 已创建。

SQL> 
SQL> COMMENT ON COLUMN Visit.visit_id IS 'New Surrogate Key. The primary key field is very long. When referring to (foreign key), three need to be included' 
  2  ;

Comment 已创建。

SQL> 
SQL> ALTER TABLE Visit 
  2      ADD CONSTRAINT VISIT_PK PRIMARY KEY ( visit_id ) ;

Table VISIT已变更。

SQL> 
SQL> ALTER TABLE Visit 
  2      ADD CONSTRAINT Key_2 UNIQUE ( cruise_id , Port_code , Datetime ) ;

Table VISIT已变更。

SQL> 
SQL> ALTER TABLE Manifest 
  2      ADD CONSTRAINT "Cabin_-_Manifest" FOREIGN KEY 
  3      ( 
  4       cabin_number,
  5       ship_code
  6      ) 
  7      REFERENCES Cabin 
  8      ( 
  9       cabin_number,
 10       ship_code
 11      ) 
 12  ;

Table MANIFEST已变更。

SQL> 
SQL> ALTER TABLE Port 
  2      ADD CONSTRAINT "Country_-_Port" FOREIGN KEY 
  3      ( 
  4       Country_code
  5      ) 
  6      REFERENCES Country 
  7      ( 
  8       Country_code
  9      ) 
 10  ;

Table PORT已变更。

SQL> 
SQL> ALTER TABLE Manifest 
  2      ADD CONSTRAINT "Cruise_-_Manifest" FOREIGN KEY 
  3      ( 
  4       cruise_id
  5      ) 
  6      REFERENCES Cruise 
  7      ( 
  8       cruise_id
  9      ) 
 10  ;

Table MANIFEST已变更。

SQL> 
SQL> ALTER TABLE Visit 
  2      ADD CONSTRAINT "Cruise_-_Visit" FOREIGN KEY 
  3      ( 
  4       cruise_id
  5      ) 
  6      REFERENCES Cruise 
  7      ( 
  8       cruise_id
  9      ) 
 10  ;

Table VISIT已变更。

SQL> 
SQL> ALTER TABLE Ship 
  2      ADD CONSTRAINT "Operator_-_Ship" FOREIGN KEY 
  3      ( 
  4       operator_id
  5      ) 
  6      REFERENCES Operator 
  7      ( 
  8       operator_id
  9      ) 
 10  ;

Table SHIP已变更。

SQL> 
SQL> ALTER TABLE Passenger 
  2      ADD CONSTRAINT "Passenger_-__pas_guardian" FOREIGN KEY 
  3      ( 
  4       passenger_id1
  5      ) 
  6      REFERENCES Passenger 
  7      ( 
  8       passenger_id
  9      ) 
 10  ;

Table PASSENGER已变更。

SQL> 
SQL> ALTER TABLE Manifest 
  2      ADD CONSTRAINT "Passenger_-_Manifest" FOREIGN KEY 
  3      ( 
  4       passenger_id
  5      ) 
  6      REFERENCES Passenger 
  7      ( 
  8       passenger_id
  9      ) 
 10  ;

Table MANIFEST已变更。

SQL> 
SQL> ALTER TABLE Visit 
  2      ADD CONSTRAINT "Port_-_Visit" FOREIGN KEY 
  3      ( 
  4       Port_code
  5      ) 
  6      REFERENCES Port 
  7      ( 
  8       Port_code
  9      ) 
 10  ;

Table VISIT已变更。

SQL> 
SQL> ALTER TABLE Cabin 
  2      ADD CONSTRAINT "Ship_-_Cabin" FOREIGN KEY 
  3      ( 
  4       ship_code
  5      ) 
  6      REFERENCES Ship 
  7      ( 
  8       ship_code
  9      ) 
 10  ;

Table CABIN已变更。

SQL> 
SQL> ALTER TABLE Cruise 
  2      ADD CONSTRAINT "Ship_-_Cruise" FOREIGN KEY 
  3      ( 
  4       ship_code
  5      ) 
  6      REFERENCES Ship 
  7      ( 
  8       ship_code
  9      ) 
 10  ;

Table CRUISE已变更。

SQL> 
SQL> 
SQL> 
SQL> -- Oracle SQL Developer Data Modeler Summary Report: 
SQL> -- 
SQL> -- CREATE TABLE                             9
SQL> -- CREATE INDEX                             0
SQL> -- ALTER TABLE                             23
SQL> -- CREATE VIEW                              0
SQL> -- ALTER VIEW                               0
SQL> -- CREATE PACKAGE                           0
SQL> -- CREATE PACKAGE BODY                      0
SQL> -- CREATE PROCEDURE                         0
SQL> -- CREATE FUNCTION                          0
SQL> -- CREATE TRIGGER                           0
SQL> -- ALTER TRIGGER                            0
SQL> -- CREATE COLLECTION TYPE                   0
SQL> -- CREATE STRUCTURED TYPE                   0
SQL> -- CREATE STRUCTURED TYPE BODY              0
SQL> -- CREATE CLUSTER                           0
SQL> -- CREATE CONTEXT                           0
SQL> -- CREATE DATABASE                          0
SQL> -- CREATE DIMENSION                         0
SQL> -- CREATE DIRECTORY                         0
SQL> -- CREATE DISK GROUP                        0
SQL> -- CREATE ROLE                              0
SQL> -- CREATE ROLLBACK SEGMENT                  0
SQL> -- CREATE SEQUENCE                          0
SQL> -- CREATE MATERIALIZED VIEW                 0
SQL> -- CREATE MATERIALIZED VIEW LOG             0
SQL> -- CREATE SYNONYM                           0
SQL> -- CREATE TABLESPACE                        0
SQL> -- CREATE USER                              0
SQL> -- 
SQL> -- DROP TABLESPACE                          0
SQL> -- DROP DATABASE                            0
SQL> -- 
SQL> -- REDACTION POLICY                         0
SQL> -- TSDP POLICY                              0
SQL> -- 
SQL> -- ORDS DROP SCHEMA                         0
SQL> -- ORDS ENABLE SCHEMA                       0
SQL> -- ORDS ENABLE OBJECT                       0
SQL> -- 
SQL> -- ERRORS                                   0
SQL> -- WARNINGS                                 0
SQL> 
SQL> 
SQL> 
SQL> SPOOL off
