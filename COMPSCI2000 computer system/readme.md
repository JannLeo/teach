![image-20250913224419781](readme.assets/image-20250913224419781.png)



ä¸‹é¢æ˜¯å›¾ç‰‡é‡Œè€ƒè¯•è¯´æ˜çš„â€œç¿»è¯‘ï¼‹æ€ä¹ˆåšâ€ï¼š

# è¿™æ˜¯ä»€ä¹ˆæ„æ€

- **é—­å·ï¼ˆCLOSED BOOKï¼‰**ï¼Œä¸”**å¿…é¡»åœ¨å®éªŒå®¤ç”µè„‘**ã€ä½ æ‰€é€‰çš„å®æ“è¯¾æ—¶æ®µå†…å®Œæˆã€‚
- **åªå…è®¸ä½¿ç”¨çš„èµ„æºï¼š**
  1. C++ å‚è€ƒæ‰‹å†Œï¼šhttps://cplusplus.com/reference/
  2. C++ æ•™ç¨‹ï¼šhttps://cplusplus.com/doc/
  3. **ä¸€å¼ ç©ºç™½ A4 çº¸**ï¼ˆä»…ä½œè‰ç¨¿ï¼Œä¸èƒ½å¸¦æœ‰ä»»ä½•ç¬”è®°ï¼‰ã€‚
- **ä»»ä½•å…¶ä»–ç½‘ç«™æˆ–èµ„æ–™éƒ½ä¸å…è®¸**ï¼ˆåŒ…æ‹¬ä½†ä¸é™äºï¼šå¾€å¹´/ä¹‹å‰çš„ä½œä¸šã€MyUni èµ„æ–™ã€GitHubã€Googleã€å„ç±» **AI å·¥å…·ä¸æ’ä»¶** ç­‰ï¼‰ã€‚
- **åŠ¡å¿…åœ¨ Red Hat Linux ä¸Šç¼–ç¨‹ä¸ç¼–è¯‘**ï¼Œå¦åˆ™ä»£ç æ— æ³•é€šè¿‡ç¼–è¯‘ç¯å¢ƒã€‚
- **ç‹¬ç«‹å®Œæˆ**ï¼šæäº¤çš„å·¥ä½œå¿…é¡»æ˜¯ä½ æœ¬äººå®Œæˆçš„ï¼Œä¸èƒ½æ¥å—ä»–äººå¸®åŠ©ï¼›æœªå®Œæˆè€ƒè¯•çš„äººä¹Ÿä¸èƒ½ä¸ä¹‹è®¨è®ºé¢˜ç›®ã€‚
- **ç¦»å¼€å‰**ï¼šæ‰€æœ‰è‰ç¨¿çº¸**äº¤å›åŠ©æ•™**ï¼Œ**ä¸èƒ½å¸¦å‡ºè€ƒåœº**ã€‚
- **æäº¤æ–¹å¼**ï¼šæŠŠ**å…¨éƒ¨ä»£ç æ–‡ä»¶**æŒ‰**æ­£ç¡®çš„æ–‡ä»¶åä¸æ‰©å±•å**æäº¤åˆ° **Gradescope**ã€‚
- **æ—¶é•¿ 90 åˆ†é’Ÿ**ï¼›æµ‹éªŒå…³é—­åä¸å†æ¥æ”¶ä»»ä½•æäº¤ã€‚

# ä½ åº”è¯¥æ€ä¹ˆåšï¼ˆå®æ“æ¸…å•ï¼‰

**è€ƒå‰å‡†å¤‡**

1. ç†Ÿæ‚‰ Red Hat Linux ç»ˆç«¯ï¼š`mkdir`/`cd`/`code`æˆ–`vim`/`nano`ã€‚
2. ä¼šæœ¬åœ°ç¼–è¯‘è¿è¡Œ C++ï¼š
   - ç¼–è¯‘ï¼š`g++ -std=c++17 -O2 -Wall -Wextra -o main main.cpp`
   - è¿è¡Œï¼š`./main`
3. ç»ƒä¹ åœ¨ cplusplus.com **æŸ¥æ‰¾è¯­æ³•ä¸åº“å‡½æ•°**ï¼ˆå¦‚ `std::vector`, `std::map`, `string`, I/O ç­‰ï¼‰ã€‚
4. çŸ¥é“ Gradescope çš„åŸºæœ¬æäº¤æµç¨‹ï¼ˆå¦‚ä½•ä¸Šä¼ å¤šä¸ªæ–‡ä»¶ã€å¦‚ä½•ç¡®è®¤æäº¤æˆåŠŸï¼‰ã€‚

**è€ƒè¯•ä¸­æµç¨‹ï¼ˆå»ºè®®ï¼‰**

1. ç™»å½•å®éªŒå®¤ç”µè„‘ â†’ æ‰“å¼€ **Red Hat Linux** ç»ˆç«¯ã€‚
2. æ–°å»ºç›®å½•å¹¶åˆ›å»ºæºæ–‡ä»¶ï¼š`mkdir exam && cd exam && touch main.cpp`ã€‚
3. ç¼–å†™ä¸è‡ªæµ‹ï¼šè¾¹å†™è¾¹ç”¨ä¸Šé¢çš„ `g++` å‘½ä»¤ç¼–è¯‘ã€è¿è¡Œã€ç”¨è‡ªé€ æ ·ä¾‹æµ‹è¯•ã€‚
4. **æŒ‰è¦æ±‚å‘½åæ–‡ä»¶**ï¼ˆä¾‹å¦‚é¢˜ç›®å¯èƒ½è¦æ±‚ `q1.cpp`ã€`utils.h` ç­‰ï¼›**æ–‡ä»¶æ‰©å±•åè¦æ­£ç¡®**ï¼š`.cpp`/`.h`/`.txt`ï¼‰ã€‚
5. åœ¨ **Gradescope** æäº¤ï¼šæŠŠ**æ‰€æœ‰éœ€è¦çš„æ–‡ä»¶**ä¸€æ¬¡æ€§ä¸Šä¼ ï¼›æäº¤å**æŸ¥çœ‹å›æ‰§/ç¼–è¯‘ç»“æœ**ç¡®è®¤æ— è¯¯ã€‚
6. äº¤å›**æ‰€æœ‰è‰ç¨¿çº¸**ç»™åŠ©æ•™ï¼Œå†ç¦»å¼€ã€‚

**æ³¨æ„/æ˜“é”™ç‚¹**

- ä¸è¦æ‰“å¼€é™¤ cplusplus.com ä»¥å¤–çš„ç½‘ç«™ï¼ˆåŒ…æ‹¬æœç´¢å¼•æ“ã€GitHubã€AI/æ’ä»¶ç­‰ï¼‰ã€‚
- ä¸è¦ä½¿ç”¨ä¸å—æ”¯æŒçš„æ ‡å‡†æˆ–ç‰¹æ€§ï¼ˆç”¨ `-std=c++17` è¾ƒç¨³å¦¥ï¼‰ã€‚
- æäº¤æ—¶**åˆ«æ¼æ–‡ä»¶**ï¼ˆä¾‹å¦‚å¤´æ–‡ä»¶ã€å¤šä¸ªé¢˜ç›®çš„æºæ–‡ä»¶ã€æ•°æ®æ–‡ä»¶ç­‰ï¼‰ã€‚
- æ–‡ä»¶å**å¿…é¡»ç²¾ç¡®åŒ¹é…**è¦æ±‚ï¼ˆå¤§å°å†™ã€ä¸‹åˆ’çº¿éƒ½ç®—ï¼‰ã€‚
- è€ƒè¯•ç»“æŸå‰ç•™ **5â€“10 åˆ†é’Ÿ**åšä¸€æ¬¡â€œèƒ½ç¼–è¯‘ã€èƒ½è¿è¡Œã€å·²æäº¤æˆåŠŸâ€çš„æ€»æ£€æŸ¥ã€‚

å¦‚æœä½ æ„¿æ„ï¼Œæˆ‘ç°åœ¨å°±å¯ä»¥é™ªä½ **æ¼”ç»ƒä¸€æ¬¡ Linux ç¼–è¯‘ä¸ Gradescope æäº¤æµç¨‹**ï¼Œä»¥åŠåšä¸€ä¸ª**C++ æ¨¡æ¿ï¼ˆmain å‡½æ•°ï¼‹å¿«é€Ÿè¯»å†™ï¼‰**ï¼Œæ–¹ä¾¿ä½ è€ƒè¯•æ—¶ç›´æ¥å¼€å†™ã€‚**ä½†è¯·æ³¨æ„ï¼šæ­£å¼è€ƒè¯•æ—¶ä¸å¾—å†ä½¿ç”¨æˆ‘æˆ–ä»»ä½• AI å·¥å…·ã€‚**







![image-20250913224720308](readme.assets/image-20250913224720308.png)



è¿™æ˜¯åœ¨è€ƒå¯Ÿ**å•ä¸€èŒè´£åŸåˆ™ï¼ˆSRP, Single Responsibility Principleï¼‰**ï¼š

> ä¸€ä¸ªç±»åº”è¯¥**åªæœ‰ä¸€ä¸ªå¼•èµ·å®ƒå˜åŒ–çš„åŸå› **ã€‚æ¢å¥è¯è¯´ï¼Œä¸€ä¸ªç±»åªè´Ÿè´£ä¸€ç±»äº‹æƒ…ã€‚

### é¢˜ç›®åœ¨è¯´ä»€ä¹ˆï¼Ÿ

é—®çš„æ˜¯ï¼š**å“ªä¸ªç±»è¿åäº† SRPï¼Ÿ**

- **Option A: `EmailSender`**
   åªæœ‰ `sendEmail(...)` ä¸€ä»¶äº‹ â†’ åªæœ‰â€œå‘é‚®ä»¶â€è¿™ä¸€ä¸ªå˜åŒ–åŸå› ï¼Œ**ä¸è¿èƒŒ** SRPã€‚
- **Option B: `UserManager`**
   åŒæ—¶åšäº†ï¼š
  1. ç”¨æˆ·åˆ›å»º/åˆ é™¤ï¼ˆç”¨æˆ·ç®¡ç†ï¼‰
  2. å‘é€æ¬¢è¿é‚®ä»¶ï¼ˆé‚®ä»¶å‘é€ï¼‰
  3. ç”Ÿæˆç”¨æˆ·æŠ¥å‘Šï¼ˆæŠ¥è¡¨/æŠ¥å‘Šï¼‰
      è¿™æ˜¯**ä¸‰ç±»ä¸åŒèŒè´£**ï¼Œä¼šè¢«ä¸‰ç§ä¸åŒéœ€æ±‚æ›´æ”¹è§¦å‘ä¿®æ”¹ï¼ˆä¸šåŠ¡æ”¹äº†ç”¨æˆ·åˆ›å»ºæµç¨‹ã€é‚®ä»¶æ¨¡æ¿å˜äº†ã€æŠ¥è¡¨æ ¼å¼è°ƒæ•´ç­‰ï¼‰ã€‚
      â†’ **è¿å SRPï¼ˆæ­£ç¡®ç­”æ¡ˆï¼‰**ã€‚
- **Option C: `Calculator`**
   `add`/`subtract` éƒ½æ˜¯â€œç®—æœ¯è¿ç®—â€è¿™åŒä¸€ç±»èŒè´£ï¼Œå˜åŒ–åŸå› ä¸€è‡´ï¼ˆè¿ç®—è§„åˆ™å˜äº†æ‰ä¸€èµ·å˜ï¼‰ï¼Œ**ä¸è¿èƒŒ** SRPã€‚

**æ‰€ä»¥ç­”æ¡ˆï¼šBã€‚**ï¼ˆé¢˜å›¾æœ€åä¸€è¡Œä¹Ÿç»™å‡ºäº†è¿™ä¸ªç»“è®ºï¼‰

------

## ä¸ºä»€ä¹ˆ B é”™ï¼Ÿå†ç›´è§‚ä¸€ç‚¹

è®¾æƒ³äº§å“æå‡ºä¸‰ç§æ”¹åŠ¨ï¼š

- â€œæ¬¢è¿é‚®ä»¶æ¨¡æ¿è¦æ”¹æˆå¤šè¯­è¨€ã€‚â€â€”â€”å½±å“**å‘é‚®ä»¶**é€»è¾‘
- â€œåˆ ç”¨æˆ·è¦è½¯åˆ é™¤è€Œä¸æ˜¯ç¡¬åˆ é™¤ã€‚â€â€”â€”å½±å“**ç”¨æˆ·ç®¡ç†**é€»è¾‘
- â€œç”¨æˆ·æŠ¥å‘Šé‡Œè¦åŠ æœ€è¿‘æ´»è·ƒåº¦æ›²çº¿ã€‚â€â€”â€”å½±å“**æŠ¥è¡¨**é€»è¾‘

è¿™ä¸‰ä»¶äº‹äº’ä¸ç›¸å¹²ï¼Œä½†éƒ½è¦å»æ”¹ `UserManager`ï¼Œå¯¼è‡´ç±»è¶Šæ¥è¶Šåºå¤§ã€è€¦åˆã€éš¾æµ‹ã€‚å…¸å‹çš„ SRP è¿åã€‚

------

## æ­£ç¡®è¯¥æ€ä¹ˆåšï¼ˆé‡æ„æ€è·¯ï¼‰

æŠŠä¸åŒèŒè´£**æ‹†åˆ†**ï¼Œç”±ä¸€ä¸ªä¸Šå±‚æœåŠ¡**åä½œ/å§”æ´¾**ï¼š

```java
class UserRepository {        // åªç®¡ç”¨æˆ·çš„æŒä¹…åŒ–/å¢åˆ æ”¹æŸ¥
    void createUser(User user) { /* ... */ }
    void deleteUser(int userId) { /* ... */ }
}

class EmailSender {           // åªç®¡å‘é‚®ä»¶
    void sendEmail(String to, String subject, String body) { /* ... */ }
}

class WelcomeEmailService {   // åªç®¡æ¬¢è¿é‚®ä»¶çš„ä¸šåŠ¡å°è£…ï¼ˆå¯å¤ç”¨ EmailSenderï¼‰
    private final EmailSender emailSender;
    void sendWelcome(User user) { /* build template & emailSender.sendEmail(...) */ }
}

class UserReportService {     // åªç®¡ç”¨æˆ·æŠ¥å‘Šç”Ÿæˆ
    String generateReport(int userId) { /* ... */ return report; }
}

// å¯é€‰çš„åè°ƒè€…ï¼šè´Ÿè´£â€œç¼–æ’â€ï¼Œè‡ªå·±ä¸åšå…·ä½“æ´»
class UserService {
    private final UserRepository repo;
    private final WelcomeEmailService welcomeEmail;
    private final UserReportService reportService;

    void register(User user) {
        repo.createUser(user);
        welcomeEmail.sendWelcome(user);
    }
    void remove(int userId) { repo.deleteUser(userId); }
    String getReport(int userId) { return reportService.generateReport(userId); }
}
```

è¿™æ ·æ¯ä¸ªç±»**åªæœ‰ä¸€ç§åŸå› ä¼šå˜**ï¼Œæµ‹è¯•ä¹Ÿæ›´ç‹¬ç«‹ï¼›ä¸Šå±‚ `UserService` åªæ˜¯**åè°ƒ**ï¼ŒèŒè´£ä¾ç„¶å•ä¸€ï¼ˆâ€œç”¨æˆ·ç›¸å…³ç”¨ä¾‹çš„ç¼–æ’â€ï¼‰ã€‚

------

## è€ƒåœºâ€œæ€ä¹ˆåšâ€å°æŠ€å·§

1. **åˆ—èŒè´£**ï¼šå¿«é€Ÿç½—åˆ—è¿™ä¸ªç±»åœ¨åšâ€œå‡ ç±»äº‹â€ã€‚è¶…è¿‡ 1 ç±»å°±è­¦æƒ•ã€‚
2. **é—®åŸå› **ï¼šè¿™ä¸ªç±»ä¼šå› ä¸º**å‡ ç§ä¸åŒçš„ä¸šåŠ¡å˜åŒ–**è€Œè¢«ä¿®æ”¹ï¼Ÿè¶…è¿‡ 1 ç§å°±ä¸å•ä¸€ã€‚
3. **çœ‹ä¾èµ–**ï¼šæ˜¯å¦åŒæ—¶ä¾èµ–â€œæ•°æ®åº“/ç½‘ç»œ/æŠ¥è¡¨/æ¨¡æ¿â€ç­‰å¤šç§å¤–éƒ¨æ¨¡å—ï¼Ÿé€šå¸¸æ„å‘³ç€å¤šèŒè´£ã€‚
4. **é€‰é¡¹å¯¹æ¯”**ï¼š
   - åªåšä¸€ä»¶äº‹ï¼ˆA/Cï¼‰â†’ åˆæ ¼ï¼›
   - åˆç®¡æ•°æ®åˆç®¡ IO åˆç®¡æ ¼å¼åŒ–ï¼ˆBï¼‰â†’ å¤šåŠä¸åˆæ ¼ã€‚

------

å¦‚æœä½ æ„¿æ„ï¼Œæˆ‘å¯ä»¥æŠŠä½ è‡ªå·±çš„ä»£ç ç‰‡æ®µå‘æ¥ï¼Œæˆ‘æŒ‰ SRP å¸®ä½ åšä¸€æ¬¡â€œèŒè´£æ‹†åˆ†â€å’Œå•å…ƒæµ‹è¯•è¾¹ç•Œåˆ’åˆ†ã€‚







![image-20250913224802003](readme.assets/image-20250913224802003.png)



é¢˜ç›®åœ¨é—®ï¼š**ä¸ºäº†ç»™ç³»ç»Ÿâ€œæ–°å¢å›¾å½¢ç±»å‹â€ï¼Œå“ªç§è®¾è®¡æ›´ç¬¦åˆâ€œå¼€é—­åŸåˆ™ï¼ˆOpen/Closed Principle, OCPï¼‰â€ï¼Ÿ**
 OCP çš„æ ¸å¿ƒï¼š**å¯¹æ‰©å±•å¼€æ”¾ã€å¯¹ä¿®æ”¹å…³é—­**â€”â€”æ·»åŠ æ–°èƒ½åŠ›æ—¶ï¼Œåº”å°½é‡**æ–°å¢ä»£ç **è€Œä¸æ˜¯**æ”¹åŠ¨å·²æœ‰ä»£ç **ã€‚

## ä¸¤ä¸ªè®¾è®¡åœ¨åšä»€ä¹ˆ

### Design Aï¼ˆæŠ½è±¡åŸºç±» + å¤šæ€ï¼‰

```cpp
class Shape {
public:
    virtual double calculateArea() = 0; // çº¯è™šå‡½æ•°
};

class Circle : public Shape {
    double calculateArea() override { /* å®ç° */ }
};
```

å«ä¹‰ï¼šè§„å®šæ‰€æœ‰å›¾å½¢éƒ½è¦å®ç° `calculateArea()`ã€‚æ–°å¢ä¸€ä¸ªå›¾å½¢ï¼ˆå¦‚ `Rectangle`ã€`Triangle`ï¼‰æ—¶ï¼Œ**åªéœ€æ–°å»ºä¸€ä¸ªå­ç±»**å¹¶å®ç°è¯¥å‡½æ•°ï¼Œ**ä¸å¿…æ”¹**å·²æœ‰ç±»ã€‚

### Design Bï¼ˆç±»å‹å­—ç¬¦ä¸² + if/else åˆ†æ”¯ï¼‰

```cpp
class AreaCalculator {
    double calculateArea(string shapeType, double p1, double p2) {
        if (shapeType == "circle") return 3.14 * p1 * p1;
        else if (shapeType == "rectangle") return p1 * p2;
        // æ–°å›¾å½¢è¦åœ¨è¿™é‡Œç»§ç»­åŠ åˆ†æ”¯ â†’ éœ€è¦ä¿®æ”¹æ­¤æ–¹æ³•
    }
};
```

å«ä¹‰ï¼šé€šè¿‡ `shapeType` åˆ¤æ–­åˆ†æ”¯ã€‚æ¯å¢åŠ ä¸€ç§å›¾å½¢ï¼Œå°±**å¿…é¡»ä¿®æ”¹**`calculateArea()`ï¼ŒæŠŠæ–°çš„ `else if` åˆ†æ”¯å†™è¿›å»ã€‚

## å“ªä¸ªç¬¦åˆ OCPï¼Ÿ

**é€‰ Aï¼ˆDesign Aï¼‰**ã€‚
 åŸå› ï¼šA é€šè¿‡**ç»§æ‰¿ + å¤šæ€**å®ç°â€œå¯¹æ‰©å±•å¼€æ”¾ã€å¯¹ä¿®æ”¹å…³é—­â€ã€‚æ–°å¢å›¾å½¢ = æ–°å»ºä¸€ä¸ªå­ç±»å¹¶å®ç° `calculateArea()`ï¼Œ**ä¸åŠ¨æ—§ä»£ç **ã€‚
 B æ–¹æ¡ˆæ¯åŠ ä¸€ç§å›¾å½¢éƒ½è¦**æ”¹**`AreaCalculator`ï¼Œè¿å OCPï¼›è€Œä¸”ç”¨å­—ç¬¦ä¸²/åˆ†æ”¯åˆ¤æ–­æ˜¯å…¸å‹â€œåå¤šæ€â€å‘³é“ï¼Œæ˜“é”™ã€éš¾ç»´æŠ¤ã€‚

**æ ‡å‡†ç­”æ¡ˆï¼šAã€‚**ï¼ˆæˆªå›¾é‡Œä¹Ÿå†™äº†ï¼šDesign A å…è®¸é€šè¿‡ç»§æ‰¿æ‰©å±•è€Œä¸ä¿®æ”¹å·²æœ‰ä»£ç ã€‚ï¼‰

## â€œæ€ä¹ˆåšâ€ï¼ˆå®é™…å†™æ³•èŒƒä¾‹ï¼‰

è‹¥åœ¨è€ƒé¢˜è®©ä½ å®ç°ï¼Œå¯å†™æˆè¿™æ ·ï¼ˆC++17ï¼‰ï¼š

```cpp
struct Shape {
    virtual ~Shape() = default;
    virtual double area() const = 0;
};

struct Circle : Shape {
    double r;
    explicit Circle(double r): r(r) {}
    double area() const override { return 3.141592653589793 * r * r; }
};

struct Rectangle : Shape {
    double w, h;
    Rectangle(double w, double h): w(w), h(h) {}
    double area() const override { return w * h; }
};

// ä½¿ç”¨
// std::vector<std::unique_ptr<Shape>> shapes;
// shapes.push_back(std::make_unique<Circle>(2.0));
// shapes.push_back(std::make_unique<Rectangle>(3.0, 4.0));
// double total = 0; for (auto& s : shapes) total += s->area();
```

ä»¥åè¦åŠ  `Triangle`ï¼Œåªéœ€å†å†™ä¸€ä¸ª `struct Triangle : Shape { ... area() ... };`ï¼Œæ— éœ€æ”¹åŠ¨ç°æœ‰ç±»æˆ–è°ƒç”¨å¤„ï¼Œç¬¦åˆå¼€é—­åŸåˆ™ã€‚

> è€ƒåœºé€Ÿè®°ï¼šçœ‹åˆ°â€œæ ¹æ®ç±»å‹å­—ç¬¦ä¸²/æšä¸¾åšä¸€å † if/switchâ€çš„ï¼Œé€šå¸¸**ä¸ç¬¦åˆ OCP**ï¼›çœ‹åˆ°â€œæŠ½è±¡æ¥å£ + æ´¾ç”Ÿç±» overrideâ€çš„ï¼Œé€šå¸¸**ç¬¦åˆ OCP**ã€‚





![image-20250913224837035](readme.assets/image-20250913224837035.png)

è¿™æ˜¯åœ¨è€ƒ**é‡Œæ°æ›¿æ¢åŸåˆ™ï¼ˆLSPï¼‰**ï¼š

> ä»»ä½•ä½¿ç”¨åŸºç±»å¯¹è±¡çš„åœ°æ–¹ï¼Œéƒ½åº”è¯¥èƒ½é€æ˜åœ°æ›¿æ¢æˆå®ƒçš„å­ç±»å¯¹è±¡ï¼Œè€Œ**ä¸æ”¹å˜**ç¨‹åºåŸæœ‰çš„æ­£ç¡®æ€§ä¸æœŸæœ›è¡Œä¸ºã€‚

### é¢˜ç›®åœ¨è¯´ä»€ä¹ˆï¼Ÿ

åŸºç±»ï¼š

```cpp
class Bird {
public:
    virtual void fly() { cout << "Flying"; }
};
```

è¿™ç›¸å½“äº **å¯¹æ‰€æœ‰ Bird åšå‡ºâ€œèƒ½é£ä¸”ä¼šé£èµ·æ¥â€çš„æ‰¿è¯º**ã€‚

ä¸‰ä¸ªå­ç±»ï¼š

- **A) Eagle**ï¼š`fly()` è¾“å‡ºâ€œEagle flying highâ€â€”â€”ä»ç„¶æ˜¯â€œä¼šé£â€ã€‚âœ… ç¬¦åˆ LSP
- **B) Penguin**ï¼š`fly()` é‡Œ **æŠ›å¼‚å¸¸** â€œPenguins cannot fly!â€â€”â€”å½“ä½œ Bird ä½¿ç”¨æ—¶ï¼ŒåŸæœ¬â€œä¼šé£â€çš„æœŸå¾…è¢«ç ´åã€‚âŒ è¿å LSP
- **C) Sparrow**ï¼š`fly()` è¾“å‡ºâ€œé£å¾—å¿«â€â€”â€”è¡Œä¸ºä»æ˜¯â€œä¼šé£â€ã€‚âœ… ç¬¦åˆ LSP

**æ­£ç¡®ç­”æ¡ˆï¼šBï¼ˆPenguinï¼‰ã€‚**å› ä¸ºåŸºç±»æ²¡æœ‰å£°æ˜ä¼šæŠ›å¼‚å¸¸ï¼Œä¸”å«ä¹‰æ˜¯â€œèƒ½é£â€ï¼›å­ç±»å´æŠŠâ€œé£â€çš„å¥‘çº¦æ”¹æˆâ€œæŠ¥é”™ä¸èƒ½é£â€ï¼Œæ›¿æ¢åä¼šè®©åŸæœ¬ä¾èµ–â€œBird ä¼šé£â€çš„ä»£ç å¤±è´¥ï¼Œè¿™å°±æ˜¯ LSP è¿èƒŒã€‚

------

## ä¸ºä»€ä¹ˆä¼šå‡ºè¿™ç§é”™ï¼Ÿ

è®¾è®¡æŠŠâ€œèƒ½é£â€è¿™ç§**å¹¶éæ‰€æœ‰é¸Ÿéƒ½å…·å¤‡çš„èƒ½åŠ›**æ”¾è¿›äº† `Bird` çš„é€šç”¨æ¥å£é‡Œï¼Œäºæ˜¯**ä¸å¯é£çš„ä¼é¹…**åªèƒ½ç”¨å¼‚å¸¸â€œé¡¶ä¸Šâ€ï¼Œä»è€Œç ´å LSPã€‚

------

## æ­£ç¡®è®¾è®¡æ€ä¹ˆåšï¼Ÿ

### æ–¹æ¡ˆ 1ï¼šæ‹†åˆ†æ¥å£ï¼ˆæ›´è´´è¿‘ ISP/LSPï¼‰

```cpp
struct IFlyable {
    virtual ~IFlyable() = default;
    virtual void fly() = 0;
};

class Bird { /* é€šç”¨é¸Ÿçš„å±æ€§/è¡Œä¸ºï¼šeat(), layEggs() ç­‰ */ };

class Eagle   : public Bird, public IFlyable { void fly() override { /* ... */ } };
class Sparrow : public Bird, public IFlyable { void fly() override { /* ... */ } };
class Penguin : public Bird { /* æ²¡æœ‰ fly()ï¼Œä¸ä¼šé£ */ };
```

ä½¿ç”¨å¤„åªåœ¨â€œéœ€è¦ä¼šé£â€çš„åœ°æ–¹ä¾èµ– `IFlyable`ï¼Œä¸ä¼šæŠŠä¼é¹…è¯¯å½“æˆä¼šé£çš„é¸Ÿã€‚

### æ–¹æ¡ˆ 2ï¼šç­–ç•¥æ¨¡å¼ï¼ˆèƒ½åŠ›ç”±ç»„åˆå†³å®šï¼‰

```cpp
struct FlyBehavior { virtual void fly() = 0; };
struct HighFly : FlyBehavior { void fly() override { /* é«˜é£ */ } };
struct FastFly : FlyBehavior { void fly() override { /* å¿«é£ */ } };
struct NoFly  : FlyBehavior { void fly() override { /* ä»€ä¹ˆä¹Ÿä¸åšï¼Œæˆ–ä¸æä¾›è¯¥è¡Œä¸º */ } };

class Bird {
public:
    explicit Bird(std::unique_ptr<FlyBehavior> fb) : flyBehavior(std::move(fb)) {}
    void performFly() { flyBehavior->fly(); }   // åªæœ‰â€œèƒ½é£â€çš„é¸Ÿæ‰æä¾›è¿™ä¸ªå…¥å£
private:
    std::unique_ptr<FlyBehavior> flyBehavior;
};

Bird eagle{std::make_unique<HighFly>()};
Bird sparrow{std::make_unique<FastFly>()};
Bird penguin{std::make_unique<NoFly>()}; // å®¢æˆ·ç«¯ä¸åº”è¯¥ä¾èµ– performFly()ï¼Œæˆ–æ ¹æœ¬ä¸ç»™å®ƒæš´éœ²
```

é€šè¿‡ç»„åˆè®©â€œæ˜¯å¦èƒ½é£â€æˆä¸ºå¯å˜èƒ½åŠ›ï¼Œè€Œä¸æ˜¯ç¡¬å¡è¿›æ‰€æœ‰é¸Ÿã€‚

> å¦‚æœä¸€å®šè¦ä¿ç•™ `fly()` åœ¨åŸºç±»é‡Œï¼Œé‚£å°±å¿…é¡»æŠŠå¥‘çº¦æ”¹æˆï¼šâ€œ**å¹¶éä¿è¯ä¼šé£**ï¼Œå¯èƒ½æŠ›å‡º NotSupported/ä¸åšä»»ä½•äº‹â€ã€‚ä½†è¿™ä¼šè¿«ä½¿æ‰€æœ‰ä½¿ç”¨è€…éƒ½åŠ åˆ¤æ–­ï¼Œä½“éªŒå·®ï¼Œä¹Ÿæ›´å®¹æ˜“å‡ºé”™â€”â€”é€šå¸¸ä¸æ¨èã€‚

------

## åšé¢˜æŠ€å·§ï¼ˆå¿«é€Ÿåˆ¤æ–­ LSP æ˜¯å¦è¢«ç ´åï¼‰

1. **çœ‹å¥‘çº¦æ˜¯å¦è¢«æ”¹å˜**ï¼šå­ç±»æ˜¯å¦æŠŠâ€œä¼šåš Xâ€å˜æˆâ€œä¸åš/æŠ¥é”™/æ¢æˆåˆ«çš„è¡Œä¸ºâ€ã€‚
2. **çœ‹å¼‚å¸¸**ï¼šåŸºç±»æ²¡è¯´ä¼šæŠ›ï¼Œå­ç±»æ–°å¢/æ‰©å¤§å¼‚å¸¸èŒƒå›´ï¼Œæ˜¯å¸¸è§çš„ LSP è¿èƒŒä¿¡å·ã€‚
3. **çœ‹å‰ç½®/åç½®æ¡ä»¶**ï¼šå­ç±»æ˜¯å¦**æ›´è‹›åˆ»çš„å‰ç½®æ¡ä»¶**æˆ–**æ›´å¼±çš„åç½®ä¿è¯**ã€‚
4. **æƒ³è±¡æ›¿æ¢åœºæ™¯**ï¼šæŠŠå­ç±»å¯¹è±¡å¡åˆ°æœ¬æ¥éœ€è¦åŸºç±»çš„åœ°æ–¹ï¼Œä»£ç è¿˜ä¼šæŒ‰åŸæœŸæœ›è¿è¡Œå—ï¼Ÿ

éœ€è¦çš„è¯ï¼ŒæŠŠä½ çš„ä»£ç /é¢˜ç›®å‘æ¥ï¼Œæˆ‘å¯ä»¥æŒ‰ LSP ç»™ä½ æ”¹ä¸€ç‰ˆâ€œä¸ä¼šé£çš„ä¼é¹…â€è®¾è®¡ ğŸ‘ã€‚







![image-20250913225143571](readme.assets/image-20250913225143571.png)

è¿™é¢˜åœ¨é—®ï¼š**å“ªä¸ªæ¥å£è®¾è®¡è¿åäº†â€œæ¥å£éš”ç¦»åŸåˆ™ï¼ˆISPï¼‰â€ï¼Ÿ**

## å…ˆææ¸…æ¥š ISP æ˜¯å•¥

æ¥å£éš”ç¦»åŸåˆ™ï¼š**å®¢æˆ·ç«¯ä¸åº”è¯¥è¢«è¿«ä¾èµ–å®ƒä¸éœ€è¦çš„æ–¹æ³•**ã€‚
 åšæ³•ï¼šæŠŠâ€œå¤§è€Œå…¨â€çš„èƒ–æ¥å£æ‹†æˆ**å°è€Œä¸“ä¸€**çš„æ¥å£ï¼ˆrole-basedï¼‰ï¼Œç±»åªå®ç°è‡ªå·±**çœŸæ­£éœ€è¦**çš„æ¥å£ã€‚

## é€‰é¡¹é€ä¸ªçœ‹

### Option A

```java
interface Workable { void work(); }
interface Eatable  { void eat();  }
```

å°è€Œå•ä¸€çš„æ¥å£ï¼Œç±»å¯ä»¥æŒ‰éœ€å®ç°ï¼ˆæ¯”å¦‚æŸäº›ç±»åª `work`ï¼Œä¸å¿… `eat`ï¼‰ã€‚âœ… **ç¬¦åˆ ISP**

### Option B

```java
interface Worker {
    void work();
    void eat();
    void sleep();
    void attendMeeting();
    void writeCode();
    void designUI();
}
```

æŠŠ**ä¸ç›¸å…³çš„èŒè´£**éƒ½å¡åœ¨ä¸€ä¸ªæ¥å£é‡Œã€‚å¾ˆå¤šå®ç°è€…ï¼ˆä¾‹å¦‚ UI è®¾è®¡å¸ˆï¼‰å¯èƒ½ä¸éœ€è¦ `writeCode()`ï¼›åå‹¤äººå‘˜ä¸éœ€è¦ `designUI()`â€¦â€¦
 è¢«è¿«å®ç°æ— å…³æ–¹æ³•ï¼Œåªèƒ½ç©ºå®ç°æˆ–æŠ›å¼‚å¸¸ â†’ **å…¸å‹â€œèƒ–æ¥å£â€**ã€‚âŒ **è¿å ISP**ï¼ˆæ­£ç¡®ç­”æ¡ˆï¼‰

### Option C

```java
interface Printable { void print(); }
```

åŒæ ·æ˜¯å•ä¸€èŒè´£æ¥å£ã€‚âœ… **ç¬¦åˆ ISP**

**ç­”æ¡ˆï¼šBï¼ˆOption Bï¼‰**ã€‚é¢˜å›¾ä¸‹æ–¹ç»™çš„æ ‡å‡†ç­”å¤ä¹Ÿæ˜¯è¿™ä¸ªç»“è®ºï¼šWorker æ¥å£å¼ºè¿«å®ç°è€…å®ç°å¯èƒ½ç”¨ä¸åˆ°çš„æ–¹æ³•ã€‚

------

## â€œæ€ä¹ˆåšâ€ï¼ˆé‡æ„æ€è·¯ä¸èŒƒä¾‹ï¼‰

æŠŠ Option B æ‹†æˆ**æŒ‰è§’è‰²**çš„è‹¥å¹²å°æ¥å£ï¼Œå†ç”±éœ€è¦çš„ç±»**æŒ‰éœ€ç»„åˆ**ï¼š

```java
interface Workable { void work(); }
interface Eatable  { void eat(); }
interface Sleepable { void sleep(); }
interface MeetingParticipant { void attendMeeting(); }
interface CodeWritable { void writeCode(); }
interface UIDesignable { void designUI(); }

// å…·ä½“ç±»åªå®ç°è‡ªå·±éœ€è¦çš„æ¥å£
class Developer implements Workable, MeetingParticipant, CodeWritable {
    public void work() { /* ... */ }
    public void attendMeeting() { /* ... */ }
    public void writeCode() { /* ... */ }
}

class Designer implements Workable, MeetingParticipant, UIDesignable {
    public void work() { /* ... */ }
    public void attendMeeting() { /* ... */ }
    public void designUI() { /* ... */ }
}

class Intern implements Workable, Eatable, Sleepable {
    public void work() { /* ... */ }
    public void eat() { /* ... */ }
    public void sleep() { /* ... */ }
}
```

### å®æˆ˜ç­”é¢˜å°æŠ€å·§

- çœ‹åˆ°**ä¸€ä¸ªæ¥å£æ–¹æ³•å¾ˆå¤šã€ä¸”èŒè´£æ··æ‚**ï¼ˆåƒé¥­/ç¡è§‰/å†™ä»£ç /å¼€ä¼š/è®¾è®¡UI å…¨åœ¨ä¸€èµ·ï¼‰ï¼ŒåŸºæœ¬å°±æ˜¯**è¿å ISP**ã€‚
- çœ‹åˆ°**å•ä¸€åŠŸèƒ½æˆ–æŒ‰è§’è‰²æ‹†åˆ†**çš„å°æ¥å£ï¼Œé€šå¸¸æ˜¯**ç¬¦åˆ ISP**ã€‚
- å¦‚æœä½ éœ€è¦â€œæ–°å¢èŒè´£â€ï¼Œ**æ–°å¢æ¥å£**è€Œä¸æ˜¯ç»™æ—§æ¥å£åŠ æ–¹æ³•ã€‚









![image-20250913225211970](readme.assets/image-20250913225211970.png)

è¿™æ˜¯åœ¨è€ƒ**ä¾èµ–å€’ç½®åŸåˆ™ï¼ˆDIP, Dependency Inversion Principleï¼‰**ã€‚

> **DIP å®šä¹‰**
>
> - é«˜å±‚æ¨¡å—ï¼ˆä¸šåŠ¡ç¼–æ’/ç­–ç•¥ï¼‰**ä¸åº”è¯¥ä¾èµ–**ä½å±‚æ¨¡å—ï¼ˆå…·ä½“å®ç°/ç»†èŠ‚ï¼‰ï¼›äºŒè€…éƒ½åº”è¯¥**ä¾èµ–æŠ½è±¡**ã€‚
>
> - **æŠ½è±¡ä¸åº”è¯¥ä¾èµ–ç»†èŠ‚**ï¼›**ç»†èŠ‚åº”è¯¥ä¾èµ–æŠ½è±¡**ã€‚
>
> - DIP çš„æ ¸å¿ƒæ˜¯ **â€œè§£è€¦â€**ï¼ŒåŒ…å«ä¸¤æ¡å…³é”®è§„åˆ™ï¼š
>
>   1. é«˜å±‚æ¨¡å—ï¼ˆå¦‚ä¸šåŠ¡é€»è¾‘å±‚ï¼‰ä¸åº”ä¾èµ–ä½å±‚æ¨¡å—ï¼ˆå¦‚å…·ä½“åŠŸèƒ½å®ç°å±‚ï¼‰ï¼Œ**ä¸¤è€…éƒ½åº”ä¾èµ–æŠ½è±¡ï¼ˆæ¥å£/æŠ½è±¡ç±»ï¼‰**ï¼›
>   2. æŠ½è±¡ï¼ˆæ¥å£/æŠ½è±¡ç±»ï¼‰ä¸åº”ä¾èµ–ç»†èŠ‚ï¼ˆå…·ä½“å®ç°ç±»ï¼‰ï¼Œ**ç»†èŠ‚ï¼ˆå…·ä½“å®ç°ç±»ï¼‰åº”ä¾èµ–æŠ½è±¡**ã€‚
>
>   ç®€å•æ¥è¯´ï¼š**ä¸è¦è®©ä»£ç â€œç¡¬ç»‘å®šâ€åˆ°å…·ä½“å®ç°ï¼Œè€Œæ˜¯é€šè¿‡æŠ½è±¡ï¼ˆæ¥å£ï¼‰æ¥äº¤äº’**ï¼Œè¿™æ ·ç³»ç»Ÿæ›´çµæ´»ï¼ˆæ¯”å¦‚æ›¿æ¢é€šçŸ¥æ–¹å¼æ—¶ï¼Œæ— éœ€æ”¹é«˜å±‚ä»£ç ï¼‰ã€‚

------

## ä¸¤ä¸ªç‰ˆæœ¬åœ¨åšä»€ä¹ˆï¼Ÿ

### Version A

```cpp
class EmailService {
    void sendEmail(string message) { /* ... */ }
};
class NotificationManager {
    EmailService emailService; // ç›´æ¥æŒæœ‰å…·ä½“ç±»
public:
    void sendNotification(string message) {
        emailService.sendEmail(message);
    }
};
```

- `NotificationManager`ï¼ˆé«˜å±‚ï¼‰**ç›´æ¥ä¾èµ–å…·ä½“ç±»** `EmailService`ï¼ˆä½å±‚ï¼‰ã€‚
- æƒ³æ¢æˆçŸ­ä¿¡/æ¨é€ï¼Œå°±å¿…é¡»**æ”¹åŠ¨** `NotificationManager`ï¼Œè€¦åˆåº¦é«˜ã€éš¾æµ‹è¯•ï¼ˆä¸å¥½æ‰“æ¡©/æ›¿èº«ï¼‰ã€‚
- â‡’ **ä¸ç¬¦åˆ DIP**ã€‚

### Version B

```cpp
interface MessageService {
    virtual void sendMessage(string message) = 0;
};
class NotificationManager {
    MessageService* messageService; // ä¾èµ–æŠ½è±¡
public:
    NotificationManager(MessageService* service) : messageService(service) {}
    void sendNotification(string message) {
        messageService->sendMessage(message);
    }
};
```

- å®šä¹‰æŠ½è±¡ `MessageService`ï¼Œé«˜å±‚ `NotificationManager` **åªä¾èµ–æ¥å£**ã€‚
- Email/SMS/Slack ç­‰**å…·ä½“å®ç°å»å®ç°è¯¥æ¥å£**ï¼Œåœ¨æ„é€ æ—¶**æ³¨å…¥**è¿›æ¥ã€‚
- æ›¿æ¢å®ç°ä¸æ”¹é«˜å±‚ä»£ç ï¼Œæ˜“æ‰©å±•ã€æ˜“å•æµ‹ï¼ˆå¯ä»¥æ³¨å…¥ Mockï¼‰ã€‚
- â‡’ **ç¬¦åˆ DIP**ã€‚
   **å› æ­¤ç­”æ¡ˆé€‰ï¼šBã€‚**

------

## æ­£ç¡®â€œæ€ä¹ˆåšâ€ï¼ˆå†™æ³•å»ºè®®ï¼‰

æ›´å¥å£®çš„ C++ å†™æ³•ï¼ˆå¸¦ææ„ & æ™ºèƒ½æŒ‡é’ˆï¼‰ï¼š

```cpp
struct MessageService {
    virtual ~MessageService() = default;
    virtual void sendMessage(const std::string& msg) = 0;
};

class EmailService : public MessageService {
public:
    void sendMessage(const std::string& msg) override { /* send email */ }
};
class SmsService : public MessageService {
public:
    void sendMessage(const std::string& msg) override { /* send sms */ }
};

class NotificationManager {
    std::shared_ptr<MessageService> svc;        // ä¾èµ–æŠ½è±¡
public:
    explicit NotificationManager(std::shared_ptr<MessageService> s) : svc(std::move(s)) {}
    void sendNotification(const std::string& msg) { svc->sendMessage(msg); }
};

// ä½¿ç”¨ï¼šéšæ—¶æ›¿æ¢å®ç°
auto nm1 = NotificationManager(std::make_shared<EmailService>());
nm1.sendNotification("Hello by email");
auto nm2 = NotificationManager(std::make_shared<SmsService>());
nm2.sendNotification("Hello by sms");
```

**å•å…ƒæµ‹è¯•ï¼ˆMock æ³¨å…¥ï¼‰ï¼š**

```cpp
class FakeService : public MessageService {
public:
    std::string last;
    void sendMessage(const std::string& msg) override { last = msg; }
};
// æµ‹è¯•æ—¶æ³¨å…¥ FakeServiceï¼Œä¸éœ€è¦çœŸæ­£å‘æ¶ˆæ¯
```

------

## è®°å¿†è¦ç‚¹ / è€ƒåœºé€Ÿåˆ¤

- **å­—æ®µæˆ– `new` å‡ºæ¥çš„æ˜¯å…·ä½“ç±»** â†’ å¤§æ¦‚ç‡**è¿èƒŒ DIP**ã€‚
- **å­—æ®µ/å‚æ•°ç±»å‹æ˜¯æ¥å£/æŠ½è±¡ç±»**ï¼Œç”±å¤–éƒ¨**ä¾èµ–æ³¨å…¥ï¼ˆDIï¼‰** â†’ ç¬¦åˆ DIPã€‚
- æƒ³åˆ°â€œ**é«˜å±‚ä¾èµ–æŠ½è±¡ï¼Œç»†èŠ‚å®ç°æŠ½è±¡**â€ï¼Œå°±èƒ½å¿«é€Ÿé€‰å‡º Version Bã€‚







![image-20250913225418722](readme.assets/image-20250913225418722.png)

è¿™é¢˜åœ¨è®©ä½ åˆ¤æ–­ï¼šä¸‹é¢è¿™æ®µ `OrderProcessor::processOrder` ä»£ç **è¿åäº†å“ªä¸ª SOLID åŸåˆ™**ã€‚

> ### SOLID åŸåˆ™è¯¦è§£
> SOLID æ˜¯é¢å‘å¯¹è±¡ç¼–ç¨‹ï¼ˆOOPï¼‰ä¸­çš„äº”ä¸ªæ ¸å¿ƒè®¾è®¡åŸåˆ™çš„é¦–å­—æ¯ç¼©å†™ï¼Œç”± Robert C. Martinï¼ˆUncle Bobï¼‰æå‡ºï¼Œæ—¨åœ¨å¸®åŠ©å¼€å‘è€…ç¼–å†™å¯ç»´æŠ¤ã€å¯æ‰©å±•ã€å¯å¤ç”¨çš„é«˜è´¨é‡ä»£ç ã€‚ä¸‹é¢æˆ‘ä»¬é€ä¸€è§£é‡Šæ¯ä¸ªåŸåˆ™çš„å«ä¹‰ã€ç›®çš„å’Œç¤ºä¾‹ã€‚
> ---
> ## ä¸€ã€S - å•ä¸€èŒè´£åŸåˆ™ï¼ˆSingle Responsibility Principle, SRPï¼‰
> ### æ ¸å¿ƒå®šä¹‰  
> **ä¸€ä¸ªç±»åº”è¯¥åªæœ‰ä¸€ä¸ªå¼•èµ·å®ƒå˜åŒ–çš„åŸå› **ã€‚æ¢å¥è¯è¯´ï¼Œä¸€ä¸ªç±»åªè´Ÿè´£ä¸€é¡¹èŒè´£ï¼ˆåŠŸèƒ½ï¼‰ï¼Œä¸è¦å°†å¤šä¸ªä¸åŒçš„åŠŸèƒ½è€¦åˆåœ¨ä¸€ä¸ªç±»ä¸­ã€‚
> ### ç›®çš„  
> - é™ä½ç±»çš„å¤æ‚åº¦ï¼šæ¯ä¸ªç±»åªå…³æ³¨ä¸€ä»¶äº‹ï¼Œé€»è¾‘æ›´æ¸…æ™°ï¼›  
> - æé«˜å¯ç»´æŠ¤æ€§ï¼šä¿®æ”¹æŸä¸ªèŒè´£æ—¶ï¼Œä¸ä¼šå½±å“å…¶ä»–èŒè´£ï¼›  
> - å¢å¼ºå¯å¤ç”¨æ€§ï¼šå•ä¸€èŒè´£çš„ç±»æ›´å®¹æ˜“è¢«å…¶ä»–æ¨¡å—å¤ç”¨ã€‚
> ### ç¤ºä¾‹  
> #### è¿å SRP çš„ä»£ç   
> ```java
> class User {
>     private String name;
>     private String email;
>     // èŒè´£1ï¼šç®¡ç†ç”¨æˆ·ä¿¡æ¯ï¼ˆgetter/setterï¼‰
>     public String getName() { return name; }
>     public void setName(String name) { this.name = name; }
>     // èŒè´£2ï¼šå¤„ç†ç”¨æˆ·æ•°æ®æŒä¹…åŒ–ï¼ˆæ•°æ®åº“æ“ä½œï¼‰
>     public void saveToDatabase() {
>         // JDBC ä»£ç ä¿å­˜ç”¨æˆ·åˆ°æ•°æ®åº“...
>     }
>     // èŒè´£3ï¼šå‘é€é‚®ä»¶é€šçŸ¥
>     public void sendEmail(String message) {
>         // é‚®ä»¶å‘é€é€»è¾‘...
>     }
> }
> ```
> **é—®é¢˜**ï¼š`User` ç±»åŒæ—¶æ‰¿æ‹…äº†ç”¨æˆ·ä¿¡æ¯ç®¡ç†ã€æ•°æ®æŒä¹…åŒ–ã€é‚®ä»¶å‘é€ä¸‰ä¸ªèŒè´£ï¼Œä¿®æ”¹å…¶ä¸­ä¸€ä¸ªèŒè´£ï¼ˆæ¯”å¦‚æ›´æ¢æ•°æ®åº“ï¼‰å¯èƒ½å½±å“å…¶ä»–åŠŸèƒ½ã€‚
> #### éµå¾ª SRP çš„ä¼˜åŒ–  
> å°†ä¸åŒèŒè´£æ‹†åˆ†åˆ°ç‹¬ç«‹çš„ç±»ä¸­ï¼š  
> ```java
> // èŒè´£1ï¼šç”¨æˆ·ä¿¡æ¯ç®¡ç†
> class User {
>     private String name;
>     private String email;
>     // getter/setter...
> }
> // èŒè´£2ï¼šæ•°æ®æŒä¹…åŒ–
> class UserRepository {
>     public void save(User user) {
>         // JDBC ä»£ç ä¿å­˜ç”¨æˆ·åˆ°æ•°æ®åº“...
>     }
> }
> // èŒè´£3ï¼šé‚®ä»¶å‘é€
> class EmailService {
>     public void sendEmail(String email, String message) {
>         // é‚®ä»¶å‘é€é€»è¾‘...
>     }
> }
> ```
> **ä¼˜åŠ¿**ï¼šæ¯ä¸ªç±»åªè´Ÿè´£ä¸€é¡¹èŒè´£ï¼Œä¿®æ”¹æ•°æ®åº“æ“ä½œåªéœ€æ”¹ `UserRepository`ï¼Œä¸ä¼šå½±å“ `User` æˆ– `EmailService`ã€‚
> ---
> ## äºŒã€O - å¼€é—­åŸåˆ™ï¼ˆOpen/Closed Principle, OCPï¼‰
> ### æ ¸å¿ƒå®šä¹‰  
> **è½¯ä»¶å®ä½“ï¼ˆç±»ã€æ¨¡å—ã€å‡½æ•°ç­‰ï¼‰åº”è¯¥å¯¹æ‰©å±•å¼€æ”¾ï¼Œå¯¹ä¿®æ”¹å…³é—­**ã€‚  
> - å¯¹æ‰©å±•å¼€æ”¾ï¼šå…è®¸é€šè¿‡æ–°å¢ä»£ç ï¼ˆå¦‚æ–°ç±»ã€æ–°æ–¹æ³•ï¼‰æ¥æ‰©å±•åŠŸèƒ½ï¼›  
> - å¯¹ä¿®æ”¹å…³é—­ï¼šä¸å…è®¸ä¿®æ”¹å·²æœ‰çš„ç¨³å®šä»£ç ï¼ˆé¿å…ç ´åç°æœ‰é€»è¾‘ï¼‰ã€‚
> ### ç›®çš„  
> - é™ä½ç»´æŠ¤æˆæœ¬ï¼šæ‰©å±•åŠŸèƒ½æ—¶æ— éœ€ä¿®æ”¹å·²æœ‰ä»£ç ï¼Œå‡å°‘å¼•å…¥ bug çš„é£é™©ï¼›  
> - æé«˜çµæ´»æ€§ï¼šé€šè¿‡æŠ½è±¡æˆ–å¤šæ€å®ç°åŠ¨æ€æ‰©å±•ï¼Œé€‚åº”éœ€æ±‚å˜åŒ–ã€‚
> ### ç¤ºä¾‹  
> #### è¿å OCP çš„ä»£ç   
> ```java
> class Shape {
>     private String type;
>     public Shape(String type) { this.type = type; }
>     // è®¡ç®—é¢ç§¯ï¼šæ¯æ–°å¢ä¸€ç§å½¢çŠ¶ï¼Œéƒ½éœ€è¦ä¿®æ”¹è¿™ä¸ªæ–¹æ³•
>     public double calculateArea() {
>         if (type.equals("circle")) {
>             return Math.PI * radius * radius; // å‡è®¾æœ‰ radius å±æ€§
>         } else if (type.equals("rectangle")) {
>             return width * height; // å‡è®¾æœ‰ width/height å±æ€§
>         }
>         return 0;
>     }
> }
> ```
> **é—®é¢˜**ï¼šæ–°å¢ `Triangle` å½¢çŠ¶æ—¶ï¼Œå¿…é¡»ä¿®æ”¹ `calculateArea()` æ–¹æ³•ï¼Œè¿åäº†å¯¹ä¿®æ”¹å…³é—­â€çš„åŸåˆ™ã€‚
> #### éµå¾ª OCP çš„ä¼˜åŒ–  
> é€šè¿‡æŠ½è±¡å’Œå¤šæ€æ‰©å±•åŠŸèƒ½ï¼š  
> ```java
> // æŠ½è±¡æ¥å£ï¼šå®šä¹‰å½¢çŠ¶çš„é€šç”¨è¡Œä¸º
> interface Shape {
>     double calculateArea();
> }
> // å…·ä½“å½¢çŠ¶ç±»ï¼šå®ç°æ¥å£
> class Circle implements Shape {
>     private double radius;
>     public Circle(double radius) { this.radius = radius; }
>     @Override public double calculateArea() { return Math.PI * radius * radius; }
> }
> class Rectangle implements Shape {
>     private double width, height;
>     public Rectangle(double width, double height) { this.width = width; this.height = height; }
>     @Override public double calculateArea() { return width * height; }
> }
> // æ–°å¢ä¸‰è§’å½¢ï¼šæ— éœ€ä¿®æ”¹å·²æœ‰ä»£ç ï¼Œç›´æ¥æ–°å¢ç±»
> class Triangle implements Shape {
>     private double base, height;
>     public Triangle(double base, double height) { this.base = base; this.height = height; }
>     @Override public double calculateArea() { return 0.5 * base * height; }
> }
> ```
> **ä¼˜åŠ¿**ï¼šæ–°å¢å½¢çŠ¶æ—¶åªéœ€æ·»åŠ æ–°ç±»ï¼ˆå¦‚ `Triangle`ï¼‰ï¼Œæ— éœ€ä¿®æ”¹ `Shape` æ¥å£æˆ–å·²æœ‰å½¢çŠ¶ç±»ï¼Œç¬¦åˆå¯¹æ‰©å±•å¼€æ”¾ï¼Œå¯¹ä¿®æ”¹å…³é—­â€ã€‚
> ---
> ## ä¸‰ã€L - é‡Œæ°æ›¿æ¢åŸåˆ™ï¼ˆLiskov Substitution Principle, LSPï¼‰
> ### æ ¸å¿ƒå®šä¹‰  
> **å­ç±»å¿…é¡»èƒ½å¤Ÿæ›¿æ¢å…¶çˆ¶ç±»ï¼Œå¹¶ä¸”ä¸ç ´åç¨‹åºçš„æ­£ç¡®æ€§**ã€‚  
> å³ï¼šçˆ¶ç±»å‡ºç°çš„åœ°æ–¹ï¼Œå­ç±»ä¸€å®šèƒ½å‡ºç°ï¼Œä¸”æ›¿æ¢åç¨‹åºè¡Œä¸ºä¸é¢„æœŸä¸€è‡´ã€‚
> ### ç›®çš„  
> - ç¡®ä¿ç»§æ‰¿çš„åˆç†æ€§ï¼šé¿å…å­ç±»ç ´åçˆ¶ç±»çš„è¯­ä¹‰ï¼Œä¿è¯å¤šæ€çš„æ­£ç¡®æ€§ï¼›  
> - å¢å¼ºä»£ç å¥å£®æ€§ï¼šé˜²æ­¢å› å­ç±»ç‰¹æ®Šè¡Œä¸ºå¯¼è‡´è¿è¡Œæ—¶é”™è¯¯ã€‚
> ### ç¤ºä¾‹  
> #### è¿å LSP çš„ä»£ç   
> ```java
> class Rectangle {
>     private double width, height;
>     public void setWidth(double width) { this.width = width; }
>     public void setHeight(double height) { this.height = height; }
>     public double getArea() { return width * height; }
> }
> // æ­£æ–¹å½¢æ˜¯çŸ©å½¢çš„ç‰¹ä¾‹ï¼ˆå®½é«˜ç›¸ç­‰ï¼‰ï¼Œä½†ç›´æ¥ç»§æ‰¿çŸ©å½¢ä¼šå‡ºé—®é¢˜
> class Square extends Rectangle {
>     @Override public void setWidth(double width) {
>         super.setWidth(width);
>         super.setHeight(width); // å¼ºåˆ¶å®½é«˜ç›¸ç­‰
>     }
>     @Override public void setHeight(double height) {
>         super.setHeight(height);
>         super.setWidth(height); // å¼ºåˆ¶å®½é«˜ç›¸ç­‰
>     }
> }
> // å®¢æˆ·ç«¯ä»£ç ï¼šå‡è®¾ä¼ å…¥çŸ©å½¢ï¼Œå®é™…ä¼ å…¥æ­£æ–¹å½¢
> void resizeRectangle(Rectangle rect) {
>     rect.setWidth(5);
>     rect.setHeight(4); // å¯¹æ­£æ–¹å½¢æ¥è¯´ï¼Œè¿™é‡Œä¼šåŒæ—¶ä¿®æ”¹å®½ä¸º4ï¼Œå¯¼è‡´é¢ç§¯ä¸æ˜¯é¢„æœŸçš„ 5*4=20
>     System.out.println(rect.getArea()); // è¾“å‡º16ï¼ˆè€Œé20ï¼‰ï¼Œè¡Œä¸ºä¸é¢„æœŸä¸ç¬¦
> }
> ```
> **é—®é¢˜**ï¼š`Square` ä½œä¸º `Rectangle` çš„å­ç±»ï¼Œæ— æ³•æ›¿æ¢çˆ¶ç±»ï¼ˆä¿®æ”¹é«˜æ—¶å®½è¢«åŒæ­¥ä¿®æ”¹ï¼‰ï¼Œç ´åäº†çˆ¶ç±»çš„è¯­ä¹‰ï¼Œè¿å LSPã€‚
> #### éµå¾ª LSP çš„ä¼˜åŒ–  
> é€šè¿‡æŠ½è±¡æ¥å£æˆ–ç»„åˆæ›¿ä»£ç»§æ‰¿ï¼š  
> ```java
> // æŠ½è±¡æ¥å£ï¼šå®šä¹‰å½¢çŠ¶çš„é€šç”¨è¡Œä¸º
> interface Quadrilateral {
>     double getWidth();
>     double getHeight();
>     double getArea();
> }
> // çŸ©å½¢å®ç°æ¥å£
> class Rectangle implements Quadrilateral {
>     private double width, height;
>     public Rectangle(double width, double height) { this.width = width; this.height = height; }
>     @Override public double getWidth() { return width; }
>     @Override public double getHeight() { return height; }
>     @Override public double getArea() { return width * height; }
> }
> // æ­£æ–¹å½¢ç‹¬ç«‹å®ç°æ¥å£ï¼ˆä¸ç»§æ‰¿çŸ©å½¢ï¼‰
> class Square implements Quadrilateral {
>     private double side;
>     public Square(double side) { this.side = side; }
>     @Override public double getWidth() { return side; }
>     @Override public double getHeight() { return side; }
>     @Override public double getArea() { return side * side; }
> }
> // å®¢æˆ·ç«¯ä»£ç ï¼šä¾èµ–æŠ½è±¡æ¥å£ï¼Œä¸å…³å¿ƒå…·ä½“å®ç°
> void printArea(Quadrilateral quad) {
>     System.out.println(quad.getArea());
> }
> ```
> **ä¼˜åŠ¿**ï¼š`Rectangle` å’Œ `Square` éƒ½å®ç° `Quadrilateral` æ¥å£ï¼Œå½¼æ­¤ç‹¬ç«‹ï¼Œæ›¿æ¢æ—¶ä¸ä¼šç ´åç¨‹åºè¡Œä¸ºã€‚
> ---
> ## å››ã€I - æ¥å£éš”ç¦»åŸåˆ™ï¼ˆInterface Segregation Principle, ISPï¼‰
> ### æ ¸å¿ƒå®šä¹‰  
> **å®¢æˆ·ç«¯ä¸åº”è¯¥ä¾èµ–å®ƒä¸éœ€è¦çš„æ¥å£**ã€‚  
> å³ï¼šå°†å¤§æ¥å£æ‹†åˆ†ä¸ºå¤šä¸ªå°è€Œä¸“çš„æ¥å£ï¼Œå®¢æˆ·ç«¯åªéœ€ä¾èµ–è‡ªå·±ç”¨åˆ°çš„å°æ¥å£ã€‚
> ### ç›®çš„  
> - é¿å…æ¥å£æ±¡æŸ“â€ï¼šå¤§æ¥å£åŒ…å«å®¢æˆ·ç«¯ä¸éœ€è¦çš„æ–¹æ³•ï¼Œè¿«ä½¿å®¢æˆ·ç«¯å®ç°æ— ç”¨ä»£ç ï¼›  
> - é™ä½è€¦åˆåº¦ï¼šå®¢æˆ·ç«¯åªä¾èµ–å¿…è¦çš„æ¥å£ï¼Œå‡å°‘å› æ¥å£å˜æ›´å¸¦æ¥çš„å½±å“ã€‚
> ### ç¤ºä¾‹  
> #### è¿å ISP çš„ä»£ç   
> ```java
> // å¤§æ¥å£ï¼šåŒ…å«æ‰€æœ‰åŠ¨ç‰©è¡Œä¸º
> interface Animal {
>     void eat();
>     void fly();
>     void swim();
> }
> // é¸Ÿç±»å®ç°æ¥å£ï¼šå¿…é¡»å®ç° swim()ï¼ˆä½†é¸Ÿä¸ä¼šæ¸¸æ³³ï¼‰
> class Bird implements Animal {
>     @Override public void eat() { System.out.println("Bird eats"); }
>     @Override public void fly() { System.out.println("Bird flies"); }
>     @Override public void swim() { throw new UnsupportedOperationException("Bird can't swim"); }
> }
> // é±¼ç±»å®ç°æ¥å£ï¼šå¿…é¡»å®ç° fly()ï¼ˆä½†é±¼ä¸ä¼šé£ï¼‰
> class Fish implements Animal {
>     @Override public void eat() { System.out.println("Fish eats"); }
>     @Override public void fly() { throw new UnsupportedOperationException("Fish can't fly"); }
>     @Override public void swim() { System.out.println("Fish swims"); }
> }
> ```
> **é—®é¢˜**ï¼š`Bird` å’Œ `Fish` è¢«è¿«å®ç°ä¸éœ€è¦çš„æ–¹æ³•ï¼ˆ`swim()`/`fly()`ï¼‰ï¼Œå¯¼è‡´å†—ä½™ä»£ç æˆ–å¼‚å¸¸ã€‚
> #### éµå¾ª ISP çš„ä¼˜åŒ–  
> å°†å¤§æ¥å£æ‹†åˆ†ä¸ºå°æ¥å£ï¼š  
> ```java
> // å°æ¥å£1ï¼šè¿›é£Ÿè¡Œä¸º
> interface Eatable {
>     void eat();
> }
> // å°æ¥å£2ï¼šé£è¡Œè¡Œä¸º
> interface Flyable {
>     void fly();
> }
> // å°æ¥å£3ï¼šæ¸¸æ³³è¡Œä¸º
> interface Swimmable {
>     void swim();
> }
> // é¸Ÿç±»ï¼šåªä¾èµ–éœ€è¦çš„æ¥å£ï¼ˆEatable + Flyableï¼‰
> class Bird implements Eatable, Flyable {
>     @Override public void eat() { System.out.println("Bird eats"); }
>     @Override public void fly() { System.out.println("Bird flies"); }
> }
> // é±¼ç±»ï¼šåªä¾èµ–éœ€è¦çš„æ¥å£ï¼ˆEatable + Swimmableï¼‰
> class Fish implements Eatable, Swimmable {
>     @Override public void eat() { System.out.println("Fish eats"); }
>     @Override public void swim() { System.out.println("Fish swims"); }
> }
> ```
> **ä¼˜åŠ¿**ï¼šæ¯ä¸ªç±»åªä¾èµ–è‡ªå·±éœ€è¦çš„æ¥å£ï¼Œæ— éœ€å®ç°æ— ç”¨æ–¹æ³•ï¼Œä»£ç æ›´ç®€æ´ã€è€¦åˆæ›´ä½ã€‚
> ---
> ## äº”ã€D - ä¾èµ–å€’ç½®åŸåˆ™ï¼ˆDependency Inversion Principle, DIPï¼‰
> ### æ ¸å¿ƒå®šä¹‰  
> **é«˜å±‚æ¨¡å—ä¸åº”ä¾èµ–ä½å±‚æ¨¡å—ï¼Œä¸¤è€…éƒ½åº”ä¾èµ–æŠ½è±¡ï¼›æŠ½è±¡ä¸åº”ä¾èµ–ç»†èŠ‚ï¼Œç»†èŠ‚åº”ä¾èµ–æŠ½è±¡**ã€‚  
> - é«˜å±‚æ¨¡å—ï¼šä¸šåŠ¡é€»è¾‘å±‚ï¼ˆå¦‚ `NotificationManager`ï¼‰ï¼›  
> - ä½å±‚æ¨¡å—ï¼šå…·ä½“å®ç°å±‚ï¼ˆå¦‚ `EmailService`ã€`SMSService`ï¼‰ï¼›  
> - æŠ½è±¡ï¼šæ¥å£æˆ–æŠ½è±¡ç±»ï¼ˆå¦‚ `MessageService`ï¼‰ï¼›  
> - ç»†èŠ‚ï¼šå…·ä½“å®ç°ç±»ï¼ˆå¦‚ `EmailService`ï¼‰ã€‚
> ### ç›®çš„  
> - è§£è€¦é«˜å±‚ä¸ä½å±‚æ¨¡å—ï¼šé€šè¿‡æŠ½è±¡éš”ç¦»ï¼Œé¿å…é«˜å±‚ä»£ç å› ä½å±‚å®ç°å˜æ›´è€Œä¿®æ”¹ï¼›  
> - æé«˜çµæ´»æ€§ï¼šä½å±‚å®ç°å¯æ›¿æ¢ï¼ˆå¦‚åˆ‡æ¢é€šçŸ¥æ–¹å¼ï¼‰ï¼Œæ— éœ€ä¿®æ”¹é«˜å±‚é€»è¾‘ã€‚
> ### ç¤ºä¾‹  
> #### è¿å DIP çš„ä»£ç ï¼ˆå¯¹åº”å‰æ–‡çš„ Version Aï¼‰  
> ```java
> // ä½å±‚æ¨¡å—ï¼šå…·ä½“é‚®ä»¶æœåŠ¡
> class EmailService {
>     public void sendEmail(String message) { /* å‘é‚®ä»¶é€»è¾‘ */ }
> }
> // é«˜å±‚æ¨¡å—ï¼šé€šçŸ¥ç®¡ç†å™¨ï¼ˆç›´æ¥ä¾èµ–ä½å±‚å…·ä½“ç±»ï¼‰
> class NotificationManager {
>     private EmailService emailService; // ä¾èµ–å…·ä½“å®ç°ï¼Œè€ŒéæŠ½è±¡
>     public NotificationManager() {
>         this.emailService = new EmailService(); // ç¡¬ç»‘å®šï¼Œæ— æ³•æ›¿æ¢
>     }
>     public void sendNotification(String message) {
>         emailService.sendEmail(message); // è°ƒç”¨å…·ä½“æ–¹æ³•
>     }
> }
> ```
> **é—®é¢˜**ï¼š`NotificationManager` ç›´æ¥ä¾èµ– `EmailService`ï¼Œè‹¥è¦æ–°å¢çŸ­ä¿¡é€šçŸ¥ï¼ˆ`SMSService`ï¼‰ï¼Œå¿…é¡»ä¿®æ”¹ `NotificationManager` çš„ä»£ç ï¼ˆå¦‚æ–°å¢ `SMSService` æˆå‘˜å˜é‡ï¼‰ï¼Œè¿åé«˜å±‚ä¸åº”ä¾èµ–ä½å±‚â€ã€‚
> #### éµå¾ª DIP çš„ä¼˜åŒ–ï¼ˆå¯¹åº”å‰æ–‡çš„ Version Bï¼‰  
> ```java
> // æŠ½è±¡æ¥å£ï¼šå®šä¹‰æ¶ˆæ¯å‘é€è¡Œä¸º
> interface MessageService {
>     void sendMessage(String message);
> }
> // ä½å±‚æ¨¡å—1ï¼šé‚®ä»¶æœåŠ¡ï¼ˆå®ç°æŠ½è±¡æ¥å£ï¼‰
> class EmailService implements MessageService {
>     @Override public void sendMessage(String message) { /* å‘é‚®ä»¶é€»è¾‘ */ }
> }
> // ä½å±‚æ¨¡å—2ï¼šçŸ­ä¿¡æœåŠ¡ï¼ˆå®ç°æŠ½è±¡æ¥å£ï¼‰
> class SMSService implements MessageService {
>     @Override public void sendMessage(String message) { /* å‘çŸ­ä¿¡é€»è¾‘ */ }
> }
> // é«˜å±‚æ¨¡å—ï¼šé€šçŸ¥ç®¡ç†å™¨ï¼ˆä¾èµ–æŠ½è±¡æ¥å£ï¼Œè€Œéå…·ä½“å®ç°ï¼‰
> class NotificationManager {
>     private MessageService messageService; // ä¾èµ–æŠ½è±¡
>     // é€šè¿‡æ„é€ å‡½æ•°æ³¨å…¥æŠ½è±¡æ¥å£çš„å®ç°ï¼ˆä¾èµ–æ³¨å…¥ï¼‰
>     public NotificationManager(MessageService service) {
>         this.messageService = service;
>     }
>     public void sendNotification(String message) {
>         messageService.sendMessage(message); // è°ƒç”¨æŠ½è±¡æ–¹æ³•
>     }
> }
> ```
> **ä¼˜åŠ¿**ï¼š  
> - é«˜å±‚æ¨¡å— `NotificationManager` ä¾èµ–æŠ½è±¡ `MessageService`ï¼Œä¸ä¾èµ–å…·ä½“å®ç°ï¼›  
> - ä½å±‚æ¨¡å—ï¼ˆ`EmailService`ã€`SMSService`ï¼‰ä¾èµ–æŠ½è±¡ `MessageService`ï¼›  
> - æ‰©å±•æ—¶åªéœ€æ–°å¢å®ç°ç±»ï¼ˆå¦‚ `WeChatService`ï¼‰ï¼Œæ— éœ€ä¿®æ”¹ `NotificationManager`ï¼Œç¬¦åˆå¯¹æ‰©å±•å¼€æ”¾ï¼Œå¯¹ä¿®æ”¹å…³é—­â€ã€‚
> ---
> ## æ€»ç»“ï¼šSOLID åŸåˆ™çš„æ ¸å¿ƒä»·å€¼
> | åŸåˆ™    | æ ¸å¿ƒæ€æƒ³                 | è§£å†³çš„é—®é¢˜                           |
> | ------- | ------------------------ | ------------------------------------ |
> | **SRP** | ä¸€ä¸ªç±»åªè´Ÿè´£ä¸€é¡¹èŒè´£     | ç±»åŠŸèƒ½è¿‡äºå¤æ‚ï¼Œä¿®æ”¹æ—¶å½±å“å…¶ä»–åŠŸèƒ½   |
> | **OCP** | å¯¹æ‰©å±•å¼€æ”¾ï¼Œå¯¹ä¿®æ”¹å…³é—­   | éœ€æ±‚å˜æ›´æ—¶éœ€ä¿®æ”¹å·²æœ‰ä»£ç ï¼Œå¼•å…¥ bug   |
> | **LSP** | å­ç±»å¿…é¡»èƒ½æ›¿æ¢çˆ¶ç±»       | ç»§æ‰¿ç ´åçˆ¶ç±»è¯­ä¹‰ï¼Œå¯¼è‡´å¤šæ€è¡Œä¸ºå¼‚å¸¸   |
> | **ISP** | å®¢æˆ·ç«¯ä¸ä¾èµ–ä¸éœ€è¦çš„æ¥å£ | å¤§æ¥å£å¼ºè¿«å®¢æˆ·ç«¯å®ç°æ— ç”¨æ–¹æ³•         |
> | **DIP** | ä¾èµ–æŠ½è±¡ï¼Œä¸ä¾èµ–å…·ä½“å®ç° | é«˜å±‚ä¸ä½å±‚æ¨¡å—å¼ºè€¦åˆï¼Œéš¾ä»¥æ‰©å±•å’Œç»´æŠ¤ |
> **æœ€ç»ˆç›®æ ‡**ï¼šé€šè¿‡ SOLID åŸåˆ™ï¼Œç¼–å†™å‡º **é«˜å†…èšã€ä½è€¦åˆ** çš„ä»£ç ï¼Œä½¿ç³»ç»Ÿæ›´æ˜“ç»´æŠ¤ã€æ‰©å±•å’Œå¤ç”¨ã€‚
>
> --------------------------------
> ä»¥ä¸Šå†…å®¹ç”±AIç”Ÿæˆï¼Œä»…ä¾›å‚è€ƒå’Œå€Ÿé‰´

ä»£ç é‡Œå®ƒåŒæ—¶åšäº†ï¼š

- æ ¡éªŒè®¢å•ï¼ˆvalidateï¼‰
- è®¡ç®—æ€»ä»·ï¼ˆcalculate totalï¼‰
- å†™æ•°æ®åº“ï¼ˆ`Database db; db.save(order)`ï¼‰
- å‘é‚®ä»¶ï¼ˆç¡®è®¤é‚®ä»¶ï¼‰
- æ‰“å°å°ç¥¨ï¼ˆ`cout << "Printing receipt..."`ï¼‰
- æ›´æ–°åº“å­˜ï¼ˆ`InventoryManager inv.updateStock(...)`ï¼‰

## æ­£ç¡®ç­”æ¡ˆ

**A) å•ä¸€èŒè´£åŸåˆ™ï¼ˆSRP, Single Responsibility Principleï¼‰** è¢«è¿åã€‚
 **åŸå› **ï¼šä¸€ä¸ªç±»åªåº”æœ‰**ä¸€ä¸ª**å¼•èµ·å®ƒå˜åŒ–çš„åŸå› ï¼›è€Œè¿™ä¸ªç±»æ‰¿æ‹…äº†**å¤ªå¤šèŒè´£**ï¼ˆéªŒè¯ã€è®¡ç®—ã€æŒä¹…åŒ–ã€é‚®ä»¶ã€æ‰“å°ã€åº“å­˜ï¼‰ï¼Œè¿™äº›ä»»ä¸€å˜åŒ–éƒ½ä¼šè¿«ä½¿ä½ ä¿®æ”¹ `OrderProcessor`ã€‚

> å…¶ä»–é€‰é¡¹ä¸ºä½•ä¸å¯¹

- **OCP**ï¼šè™½ç„¶ä¹Ÿä¸ç†æƒ³ï¼Œä½†æœ¬é¢˜æœ€ç›´æ¥çš„é”™è¯¯æ˜¯â€œä¸€ä¸ªç±»å¹²å¤ªå¤šäº‹â€ï¼›è€ƒç‚¹é”å®š SRPã€‚
- **LSP/ISP**ï¼šä¸ç»§æ‰¿/æ¥å£æ‹†åˆ†æ— å…³ï¼Œä»£ç é‡Œä¹Ÿæ²¡å‡ºç°ã€‚

------

## â€œæ€ä¹ˆåšâ€â€”â€”é‡æ„æˆå•ä¸€èŒè´£ + ä¾èµ–å€’ç½®

æŠŠä¸åŒåŠŸèƒ½æ‹†æˆ**ç‹¬ç«‹æœåŠ¡/æ¥å£**ï¼Œ`OrderProcessor` åªåš**ç¼–æ’**ï¼ˆorchestrationï¼‰ã€‚å¹¶é€šè¿‡**ä¾èµ–æ³¨å…¥**ä¾èµ–æŠ½è±¡ï¼Œé¿å…åœ¨å†…éƒ¨ç›´æ¥ `new` å…·ä½“å®ç°ã€‚

### å‚è€ƒç»“æ„ï¼ˆC++ é£æ ¼ä¼ªç ï¼‰

```cpp
struct Order { /* items, customerEmail, ... */ };

struct IOrderValidator { virtual ~IOrderValidator()=default; virtual void validate(const Order&) const = 0; };
struct ITotalCalculator { virtual ~ITotalCalculator()=default; virtual double total(const Order&) const = 0; };
struct IOrderRepository { virtual ~IOrderRepository()=default; virtual void save(const Order&) = 0; };
struct IEmailService { virtual ~IEmailService()=default; virtual void sendConfirmation(const std::string& email, const Order&) = 0; };
struct IReceiptPrinter { virtual ~IReceiptPrinter()=default; virtual void print(const Order&, double total) = 0; };
struct IInventoryService { virtual ~IInventoryService()=default; virtual void updateStock(const Order&) = 0; };

class OrderProcessor {
public:
    OrderProcessor(IOrderValidator& v, ITotalCalculator& c, IOrderRepository& r,
                   IEmailService& e, IReceiptPrinter& p, IInventoryService& i)
        : validator(v), calculator(c), repo(r), email(e), printer(p), inventory(i) {}

    void processOrder(Order& order) {
        validator.validate(order);
        double t = calculator.total(order);
        repo.save(order);
        email.sendConfirmation(order.customerEmail, order);
        printer.print(order, t);
        inventory.updateStock(order);
    }
private:
    IOrderValidator& validator;
    ITotalCalculator& calculator;
    IOrderRepository& repo;
    IEmailService& email;
    IReceiptPrinter& printer;
    IInventoryService& inventory;
};
```

è¿™æ ·åšçš„å¥½å¤„ï¼š

- **ç¬¦åˆ SRP**ï¼šæ¯ä¸ªç±»åªå¤„ç†è‡ªå·±çš„èŒè´£ï¼›`OrderProcessor` åªæ˜¯æµç¨‹ç¼–æ’ã€‚
- **æ›´æ˜“æµ‹è¯•**ï¼šå¯ç”¨ mock/fake æ›¿ä»£å„æœåŠ¡åšå•å…ƒæµ‹è¯•ã€‚
- **å¯¹æ‰©å±•å¼€æ”¾ï¼ˆOCPï¼‰**ï¼šè¦æ¢æ‰“å°æœºã€æ¢é‚®ä»¶æœåŠ¡ã€æ¢è®¡ä»·è§„åˆ™ï¼Œåªéœ€**æ–°å¢å®ç°ç±»**ï¼Œä¸æ”¹ `OrderProcessor`ã€‚
- **ä¾èµ–å€’ç½®ï¼ˆDIPï¼‰**ï¼šé«˜å±‚æ¨¡å—ä¾èµ–çš„æ˜¯**æŠ½è±¡æ¥å£**ï¼Œä¸æ˜¯å…·ä½“å®ç°ã€‚

### å®æˆ˜å°æ¸…å•

1. åˆ—å‡ºè¯¥ç±»å½“å‰â€œåŸå› åˆ—è¡¨â€ï¼ˆå“ªäº›å˜åŒ–ä¼šè®©ä½ æ”¹å®ƒï¼‰ã€‚
2. æ¯ä¸ªåŸå› æ‹†æˆä¸€ä¸ª**å°æ¥å£/æœåŠ¡**ã€‚
3. `OrderProcessor` åªç»„åˆè¿™äº›æ¥å£å¹¶æŒ‰é¡ºåºè°ƒç”¨ã€‚
4. ç”¨æ„é€ å‡½æ•°æ³¨å…¥ä¾èµ–ï¼›ä¸è¦åœ¨æ–¹æ³•é‡Œ `new` å…·ä½“ç±»ã€‚
5. ç»™æ¯ä¸ªæœåŠ¡å†™ç‹¬ç«‹æµ‹è¯•ï¼›`OrderProcessor` ç”¨ mock æµ‹æµç¨‹ã€‚

è®°ä½ï¼šçœ‹åˆ°ä¸€ä¸ªç±»é‡Œæ—¢æœ‰ä¸šåŠ¡è§„åˆ™åˆæœ‰ I/Oï¼ˆDB/ç½‘ç»œ/æ‰“å°ï¼‰ï¼Œ**åæœ‰å…«ä¹æ˜¯ SRP é—®é¢˜**ã€‚







![image-20250913225447046](readme.assets/image-20250913225447046.png)



è¿™æ˜¯åœ¨è€ƒ**é€’å½’**ã€‚ç»™çš„å‡½æ•°ï¼š

```cpp
int mystery(int n) {
    if (n <= 1) return 1;     // åŸºçº¿æ¡ä»¶ï¼ˆç»ˆæ­¢æ¡ä»¶ï¼‰
    return n * mystery(n - 1); // é€’å½’ï¼šæŠŠé—®é¢˜ç¼©å°åˆ° n-1
}
```

å®ƒå®é™…ä¸Šåœ¨è®¡ç®—**é˜¶ä¹˜ n!**ã€‚å› ä¸ºï¼š

- å½“ `n<=1` è¿”å› `1`ï¼ˆè§„å®š 1! = 1ï¼Œ0! = 1ï¼‰ã€‚
- å¦åˆ™è¿”å› `n * (n-1)!`ï¼Œè¿™æ­£æ˜¯é˜¶ä¹˜çš„å®šä¹‰ï¼š`n! = n * (n-1)!`ã€‚

------

## æ‰‹ç®— `mystery(4)` çš„è¿‡ç¨‹

ä¸€æ­¥æ­¥å±•å¼€ç›´åˆ°å‘½ä¸­åŸºçº¿æ¡ä»¶ï¼ˆ`n<=1`ï¼‰ï¼š

1. `mystery(4)`
    â†’ `4 * mystery(3)`
2. `mystery(3)`
    â†’ `3 * mystery(2)`
3. `mystery(2)`
    â†’ `2 * mystery(1)`
4. `mystery(1)` å‘½ä¸­ `n <= 1`
    â†’ `1`

æŠŠç»“æœå›ä»£ï¼š
 `4 * (3 * (2 * 1)) = 4 * 3 * 2 * 1 = 24`

**æ­£ç¡®é€‰é¡¹ï¼šC) 24ã€‚**

------

## ä¸ºä»€ä¹ˆä¸æ˜¯ â€œStack overflowâ€ï¼Ÿ

æœ‰**ç»ˆæ­¢æ¡ä»¶** `if (n <= 1) return 1;`ï¼Œ`n` æ¯æ¬¡å‡ 1ï¼Œå¾ˆå¿«åˆ° 1 å°±åœæ­¢ï¼Œæ‰€ä»¥ä¸ä¼šæ— é™é€’å½’ã€‚å¯¹äº `n=4` åªä¼šé€’å½’ 3 å±‚ï¼Œå®‰å…¨ã€‚

------

## è§£è¿™ç±»é¢˜çš„é€šç”¨æ€è·¯ï¼ˆæ€ä¹ˆåšï¼‰

1. æ‰¾**ç»ˆæ­¢æ¡ä»¶**ï¼ˆåŸºçº¿ï¼‰ï¼š`n <= 1` è¿”å›ä»€ä¹ˆï¼Ÿ
2. çœ‹é€’å½’å¼å¦‚ä½•**ç¼©å°è§„æ¨¡**ï¼šè¿™é‡Œæ˜¯ `n * f(n-1)`ã€‚
3. **ä»å¤–åˆ°å†…å±•å¼€**ç›´åˆ°å‘½ä¸­åŸºçº¿ï¼Œç„¶å**å›ä»£è®¡ç®—**ã€‚
4. å¦‚æœè¿˜æ‹¿ä¸å‡†ï¼Œå°±æŠŠ `n=2ã€3` å…ˆä»£å…¥ç®—ä¸€éï¼Œæ‰¾è§„å¾‹ã€‚

------

## å¤æ‚åº¦ & å°æç¤º

- æ—¶é—´å¤æ‚åº¦ï¼š`O(n)` æ¬¡è°ƒç”¨ã€‚
- é¢å¤–ç©ºé—´ï¼šè°ƒç”¨æ ˆ `O(n)`ã€‚`n` å¾ˆå¤§æ—¶å¯èƒ½æ ˆæº¢å‡ºï¼›ä¸” `int` ä¼š**æ•´æ•°æº¢å‡º**ï¼ˆæ¯”å¦‚ `13!` åœ¨ 32 ä½ `int` å°±æº¢å‡ºï¼‰ï¼Œä½†ä¸æœ¬é¢˜æ— å…³ã€‚

------

## å¯é€‰ï¼šéé€’å½’å†™æ³•

```cpp
int fact(int n) {
    int ans = 1;
    for (int i = 2; i <= n; ++i) ans *= i;
    return ans;
}
```

åŒæ ·å¾—åˆ° `fact(4) = 24`ï¼Œæ²¡æœ‰é€’å½’æ ˆï¼Œæ›´å®‰å…¨ã€‚









![image-20250913225524448](readme.assets/image-20250913225524448.png)

é¢˜ç›®åœ¨é—®ï¼š**å“ªä¸ªå‡½æ•°æ˜¯â€œå°¾é€’å½’â€**ï¼ˆtail recursiveï¼‰ã€‚

### å°¾é€’å½’æ˜¯ä»€ä¹ˆæ„æ€ï¼Ÿ

å¦‚æœä¸€ä¸ªå‡½æ•°åœ¨**æœ€åä¸€æ­¥**è°ƒç”¨è‡ªå·±ï¼Œå¹¶ä¸”**è¿”å›çš„å°±æ˜¯è¯¥é€’å½’è°ƒç”¨çš„ç»“æœ**ï¼Œä¹‹åæ²¡æœ‰ä»»ä½•é¢å¤–è®¡ç®—ï¼ˆåŠ å‡ä¹˜é™¤ã€æ‹¼æ¥ã€å– max/minã€åŒ…è£…ç­‰ï¼‰ï¼Œè¿™å°±æ˜¯å°¾é€’å½’ã€‚
 å°¾é€’å½’å¸¸å¯è¢«ç¼–è¯‘å™¨ä¼˜åŒ–æˆå¾ªç¯ï¼Œé¿å…æ·±å±‚è°ƒç”¨æ ˆï¼ˆä½†æ˜¯å¦ä¼˜åŒ–å–å†³äºç¼–è¯‘å™¨/ç¼–è¯‘é€‰é¡¹ï¼‰ã€‚

------

### ä¸‰ä¸ªå‡½æ•°é€ä¸ªçœ‹

**Function A**

```c
int sumA(int n) {
    if (n <= 0) return 0;
    return n + sumA(n - 1);
}
```

é€’å½’è¿”å›åè¿˜è¦åš `n + (...)` çš„åŠ æ³•ï¼Œ**é€’å½’ä¸æ˜¯æœ€åä¸€æ­¥** â‡’ **ä¸æ˜¯å°¾é€’å½’**ã€‚

**Function B**

```c
int sumB(int n, int accumulator = 0) {
    if (n <= 0) return accumulator;
    return sumB(n - 1, accumulator + n);
}
```

`return` çš„å°±æ˜¯é€’å½’è°ƒç”¨æœ¬èº«ï¼Œä¹‹å**æ²¡æœ‰ä»»ä½•è®¡ç®—** â‡’ **æ˜¯å°¾é€’å½’**ã€‚

**Function C**

```c
int sumC(int n) {
    if (n <= 0) return 0;
    int result = sumC(n - 1);
    return n + result;
}
```

å…ˆé€’å½’å¾—åˆ° `result`ï¼Œç„¶åå†åš `n + result` çš„åŠ æ³• â‡’ **ä¸æ˜¯å°¾é€’å½’**ã€‚

**æ­£ç¡®é€‰é¡¹ï¼šBã€‚**

------

### ä¸ºä»€ä¹ˆ B æ˜¯å°¾é€’å½’ï¼Ÿï¼ˆç”¨ n=3 èµ°ä¸€éï¼‰

```
sumB(3,0) -> sumB(2,3) -> sumB(1,5) -> sumB(0,6) -> è¿”å› 6
```

æ¯ä¸€æ­¥éƒ½æŠŠâ€œè¦åšçš„å·¥ä½œâ€ï¼ˆç´¯åŠ ï¼‰**æå‰æ”¾è¿›å‚æ•°**é‡Œï¼Œä¸‹ä¸€æ­¥ç›´æ¥è¿”å›é€’å½’è°ƒç”¨ï¼›æ— éœ€åœ¨è¿”å›åå†è®¡ç®—ã€‚

å¯¹æ¯” **A/C**ï¼ˆä»¥ A ä¸ºä¾‹ï¼Œn=3ï¼‰ï¼š

```
sumA(3) = 3 + sumA(2)
        = 3 + (2 + sumA(1))
        = 3 + (2 + (1 + sumA(0)))
        = 3 + 2 + 1 + 0
```

åŠ æ³•éƒ½ç•™åœ¨**å›æº¯é˜¶æ®µ**åšï¼Œæ‰€ä»¥ä¸æ˜¯å°¾é€’å½’ã€‚

------

### â€œæ€ä¹ˆåšâ€ï¼šæŠŠéå°¾é€’å½’æ”¹æˆå°¾é€’å½’çš„ä¸€èˆ¬æ–¹æ³•

1. æ‰¾å‡ºé€’å½’è¿”å›åè¿˜è¦åšçš„å·¥ä½œï¼ˆè¿™é‡Œæ˜¯â€œåŠ  nâ€ï¼‰ã€‚
2. æŠŠè¿™ä»½å·¥ä½œé€šè¿‡**é¢å¤–å‚æ•°ï¼ˆç´¯åŠ å™¨ï¼‰**ä¼ ä¸‹å»ï¼Œè®©é€’å½’è°ƒç”¨æˆä¸ºæœ€åä¸€æ­¥ã€‚

ä¾‹å¦‚æŠŠ `sumA/sumC` æ”¹å†™æˆå°¾é€’å½’ï¼š

```c
int sumTail(int n, int acc = 0) {
    if (n <= 0) return acc;
    return sumTail(n - 1, acc + n);
}
```

å®ƒç­‰ä»·çš„è¿­ä»£ç‰ˆï¼ˆä¸€å®šä¸ä¼šçˆ†æ ˆï¼‰ï¼š

```c
int sumIter(int n) {
    int acc = 0;
    while (n > 0) { acc += n; --n; }
    return acc;
}
```

------

### å¿«é€Ÿåˆ¤æ–­å£è¯€

- çœ‹é€’å½’è°ƒç”¨æ˜¯ä¸æ˜¯ç´§è·Ÿ `return`ï¼Œ**ä¹‹åæ— è¿ç®—ã€æ— ç»„åˆã€æ— åŒ…è£…**ï¼Ÿæ˜¯ â‡’ å°¾é€’å½’ã€‚
- åªè¦æœ‰ â€œ`return f(...) + x` / `g(f(...))`ï¼ˆå…¶ä¸­ f æ˜¯é€’å½’ï¼‰/ å…ˆæ¥æ”¶è¿”å›å€¼å†å¤„ç†â€ï¼Œéƒ½**ä¸æ˜¯**å°¾é€’å½’ã€‚

æ‰€ä»¥æœ¬é¢˜é€‰ **B**ï¼Œå¹¶ä¸”ç†ç”±å¦‚ä¸Šã€‚





![image-20250913225637311](readme.assets/image-20250913225637311.png)



é¢˜ç›®é—®ï¼š**ä½¿ç”¨æŠ½è±¡æ•°æ®ç±»å‹ï¼ˆADTï¼‰çš„ä¸»è¦å¥½å¤„æ˜¯ä»€ä¹ˆï¼Ÿ**
 æ­£ç¡®ç­”æ¡ˆï¼š**C) æ•°æ®å°è£…ä¸æ¥å£æŠ½è±¡ï¼ˆData encapsulation and interface abstractionï¼‰**ã€‚

## è¿™æ˜¯ä»€ä¹ˆæ„æ€

- **ADTï¼ˆAbstract Data Typeï¼‰**ï¼šç”¨ä¸€ç»„**æ“ä½œçš„è§„æ ¼è¯´æ˜**ï¼ˆèƒ½åšä»€ä¹ˆï¼‰æ¥å®šä¹‰ä¸€ç§æ•°æ®ç±»å‹ï¼Œè€Œ**ä¸æš´éœ²å†…éƒ¨è¡¨ç¤º**ï¼ˆæ€ä¹ˆåšï¼‰ã€‚
- **æ ¸å¿ƒæ”¶ç›Š**ï¼šæŠŠâ€œæ¥å£/è¡Œä¸ºâ€ä¸â€œå®ç°/è¡¨ç¤ºâ€åˆ†ç¦»ã€‚ä½¿ç”¨è€…åªä¾èµ–æ¥å£ï¼Œå†…éƒ¨å®ç°å¯ä»¥æ›¿æ¢è€Œä¸å½±å“å¤–éƒ¨ä»£ç ã€‚

### ä¸ºä»€ä¹ˆå…¶ä»–é€‰é¡¹ä¸å¯¹

- **A) æ›´å¿«çš„æ‰§è¡Œé€Ÿåº¦**ï¼šADTä¸å¿…ç„¶æ›´å¿«ï¼Œé€Ÿåº¦å–å†³äºå…·ä½“å®ç°ä¸ç®—æ³•ï¼ŒéADTæœ¬è´¨ã€‚
- **B) æ›´å°‘çš„å†…å­˜å ç”¨**ï¼šåŒç†ï¼Œå†…å­˜å ç”¨å–å†³äºå®ç°æ–¹å¼ï¼ˆæ•°ç»„/é“¾è¡¨â€¦ï¼‰ï¼Œä¸æ˜¯ADTæœ¬èº«ä¿è¯ã€‚
- **D) è‡ªåŠ¨å†…å­˜ç®¡ç†**ï¼šé‚£æ˜¯**è¯­è¨€/è¿è¡Œæ—¶**ï¼ˆå¦‚GCã€æ™ºèƒ½æŒ‡é’ˆï¼‰æä¾›çš„ç‰¹æ€§ï¼Œä¸ADTæ¦‚å¿µæ— å…³ã€‚

## ä¸€ä¸ªç®€çŸ­ä¾‹å­ï¼ˆC++ï¼‰

```cpp
// æ¥å£å±‚ï¼šå®šä¹‰â€œèƒ½åšä»€ä¹ˆâ€
struct IStack {
    virtual ~IStack() = default;
    virtual void push(int x) = 0;
    virtual int  pop() = 0;
    virtual bool empty() const = 0;
};

// å®ç°å±‚1ï¼šç”¨ vector
class VectorStack : public IStack {
    std::vector<int> data;
public:
    void push(int x) override { data.push_back(x); }
    int pop() override { int v = data.back(); data.pop_back(); return v; }
    bool empty() const override { return data.empty(); }
};

// å®¢æˆ·ç«¯ä»£ç åªä¾èµ– IStackï¼š
void foo(IStack& s) {
    s.push(1); s.push(2);
    while(!s.empty()) std::cout << s.pop() << "\n";
}
```

ä»¥åæƒ³æŠŠ `VectorStack` æ¢æˆâ€œé“¾è¡¨ç‰ˆ `ListStack`â€ï¼Œ**å¤–éƒ¨ `foo` å®Œå…¨ä¸ç”¨æ”¹**â€”â€”è¿™å°±æ˜¯ ADT å¸¦æ¥çš„**å°è£…ä¸æŠ½è±¡**ã€‚

## è€ƒé¢˜â€œæ€ä¹ˆåšâ€ï¼ˆé€Ÿé€‰æ³•ï¼‰

1. çœ‹åˆ°â€œADTçš„ä¸»è¦å¥½å¤„/ç›®çš„â€ï¼Œä¼˜å…ˆè”æƒ³ï¼š**éšè—å®ç°ç»†èŠ‚ã€æš´éœ²æ¸…æ™°æ¥å£** â†’ é€‰ **C**ã€‚
2. é‡åˆ°æ€§èƒ½/å†…å­˜/GCä¹‹ç±»çš„é€‰é¡¹ï¼Œé€šå¸¸æ˜¯**å¹²æ‰°é¡¹**ï¼ŒADTä¸ç›´æ¥ä¿è¯è¿™äº›ã€‚

> è®°å¿†å£å†³ï¼š**â€œADTï¼šçœ‹å¾—è§è¡Œä¸ºï¼Œçœ‹ä¸è§è‚šå­ï¼ˆå®ç°ï¼‰ã€‚â€**







![image-20250913225656692](readme.assets/image-20250913225656692.png)

è¿™æ˜¯åœ¨è€ƒ**æŠ½è±¡æ•°æ®ç±»å‹ï¼ˆADT, Abstract Data Typeï¼‰ä¸å…¶å®ç°**çš„å…³ç³»ã€‚

## ç»“è®º

**é€‰ B**ï¼š**ADT å®šä¹‰â€œèƒ½åšä»€ä¹ˆï¼ˆwhatï¼‰â€ï¼Œå®ç°è´Ÿè´£â€œæ€ä¹ˆåšï¼ˆhowï¼‰â€ã€‚**

## ä¸ºä»€ä¹ˆ

- **ADT**ï¼šåªè§„å®šå¤–éƒ¨å¯è§çš„**æ“ä½œä¸è¯­ä¹‰**ï¼ˆå¦‚å‰ç½®/åç½®æ¡ä»¶ã€é”™è¯¯æƒ…å†µï¼‰ï¼Œä¸è§„å®šå†…éƒ¨æ€ä¹ˆå­˜ã€‚
   ä¾‹ï¼š**æ ˆ Stack ADT** æœ‰ `push(x)`, `pop()`, `top()`, `isEmpty()`ï¼Œå¹¶ä¿è¯â€œåè¿›å…ˆå‡ºâ€ã€‚
- **å®ç°**ï¼šé€‰æ‹©å…·ä½“çš„æ•°æ®ç»“æ„ä¸ç®—æ³•æ¥å®ç°è¿™äº›æ“ä½œï¼ˆæ•°ç»„ã€é“¾è¡¨ã€æ ‘ã€å“ˆå¸Œâ€¦â€¦ï¼‰ï¼Œå¹¶ç”±æ­¤å†³å®šæ—¶é—´/ç©ºé—´å¤æ‚åº¦ä¸å·¥ç¨‹ç»†èŠ‚ã€‚

## å„é€‰é¡¹è§£æ

- **A é”™**ï¼šADT å’Œå®ç°**ä¸éœ€è¦**ä½¿ç”¨åŒä¸€ç§æ•°æ®ç»“æ„ã€‚Stack å¯ç”¨**æ•°ç»„**æˆ–**é“¾è¡¨**å®ç°ã€‚
- **B å¯¹**ï¼šå®Œå…¨å¥‘åˆ ADT çš„æœ¬è´¨ï¼ˆæ¥å£/è¡Œä¸º vs. å®ç°/ç»†èŠ‚ï¼‰ã€‚
- **C é”™**ï¼šâ€œæ€»æ˜¯æ›´å¿«/æ›´æ…¢â€éƒ½æ˜¯ä¼ªå‘½é¢˜ï¼›**æ€§èƒ½å–å†³äºå…·ä½“å®ç°**ä¸ä½¿ç”¨åœºæ™¯ã€‚
- **D é”™**ï¼šADT ç»ä¸å±€é™äºæ•°ç»„ï¼›åŒä¸€ä¸ª ADT å¯ä»¥æœ‰**å¤šç§**å®ç°ã€‚

## ä¸€ä¸ªå¿«é€Ÿè®°å¿†æ³•

çœ‹åˆ°å…³äº ADT çš„é¢˜ï¼Œé”å®šå…³é”®è¯ï¼š

- â€œæ¥å£/æ“ä½œ/è¯­ä¹‰/è¡Œä¸º/ä¸å…³å¿ƒå†…éƒ¨è¡¨ç¤ºâ€ â†’ è¯´çš„æ˜¯ **ADT**
- â€œæ•°æ®ç»“æ„/ç®—æ³•/è¡¨ç¤º/å¤æ‚åº¦/å­˜å‚¨ç»†èŠ‚â€ â†’ è¯´çš„æ˜¯ **å®ç°**

## å°ä¾‹å­ï¼ˆå±•ç¤º what / how çš„åˆ†ç¦»ï¼‰

```cpp
// WHAT: æ ˆ ADT æ¥å£ï¼ˆåªè¯´æ˜èƒ½åšä»€ä¹ˆï¼‰
struct IStack {
  virtual void push(int x) = 0;
  virtual void pop() = 0;
  virtual int  top() const = 0;
  virtual bool empty() const = 0;
  virtual ~IStack() = default;
};

// HOW: ä¸¤ç§å®ç°ï¼ˆç»†èŠ‚ä¸åŒï¼Œè¡Œä¸ºä¸€è‡´ï¼‰
class ArrayStack : public IStack { /* ç”¨åŠ¨æ€æ•°ç»„/vector å®ç° */ };
class ListStack  : public IStack { /* ç”¨é“¾è¡¨å®ç° */ };
```

å®¢æˆ·ç«¯ä»£ç åªä¾èµ– `IStack`ï¼ˆADTï¼‰ï¼Œæ— éœ€çŸ¥é“ç©¶ç«Ÿæ˜¯æ•°ç»„æ ˆè¿˜æ˜¯é“¾è¡¨æ ˆã€‚

------

**åšé¢˜æŠ€å·§**ï¼šå‡¡æ˜¯é€‰é¡¹é‡Œå‡ºç°â€œå¿…é¡»/åªèƒ½/æ€»æ˜¯æ›´å¿«â€è¿™ç±»ç»å¯¹åŒ–æè¿°ï¼Œå¤šåŠä¸æ˜¯ ADT çš„æ­£ç¡®è¡¨è¿°ï¼›é€‰â€œå®šä¹‰æ“ä½œæ˜¯ä»€ä¹ˆï¼Œå…·ä½“å®ç°å†³å®šå¦‚ä½•åšâ€çš„é‚£ä¸€é¡¹å°±å¯¹äº†ã€‚









![image-20250913225827366](readme.assets/image-20250913225827366.png)



é¢˜ç›®å¤§æ„ï¼šæ¯”è¾ƒä¸¤ç§ **Stackï¼ˆæ ˆï¼‰ADT** çš„å®ç°ï¼Œä½•æ—¶é€‰æ‹© **å®ç°Aï¼šå®šé•¿æ•°ç»„** è€Œä¸æ˜¯ **å®ç°Bï¼šé“¾è¡¨**ï¼Ÿ

ç»™çš„ä»£ç è¦ç‚¹ï¼š

- **å®ç°Aï¼ˆArrayStackï¼‰**ï¼š`int arr[1000]; int top;` å›ºå®šå®¹é‡ 1000ï¼Œ`push/pop/peek` éƒ½æ˜¯ O(1)ã€‚
- **å®ç°Bï¼ˆLinkedStackï¼‰**ï¼š`Node* head;` åŠ¨æ€å®¹é‡ï¼Œ`push/pop/peek` ä¹Ÿæ˜¯ O(1)ã€‚

é—®ï¼šä»€ä¹ˆæ—¶å€™é€‰ A è€Œä¸æ˜¯ Bï¼Ÿ

æ­£ç¡®ç­”æ¡ˆï¼š**B) å½“å†…å­˜ä½¿ç”¨å¾ˆå…³é”®ä¸”å¤§å°å¯é¢„ä¼°/å¯å›ºå®šæ—¶**ã€‚

------

### ä¸ºä»€ä¹ˆé€‰ Bï¼ˆæ•°ç»„ä¼˜äºé“¾è¡¨çš„åœºæ™¯ï¼‰

1. **æ›´å¥½çš„å†…å­˜å±€éƒ¨æ€§ï¼ˆcache å‹å¥½ï¼‰**
    æ•°ç»„å…ƒç´ è¿ç»­å­˜æ”¾ï¼ŒCPU è¯»å†™å‘½ä¸­ç‡é«˜ï¼Œå¸¸æ•°å¼€é”€å°ï¼›é“¾è¡¨éœ€è¦â€œæŒ‡é’ˆè·³è½¬â€ï¼Œç¼“å­˜å‘½ä¸­ç‡å·®ã€‚
2. **æ›´ä½çš„å†…å­˜å¼€é”€**

- æ•°ç»„åªå­˜æ•°æ®ï¼š1000 ä¸ª `int` â‰ˆ 4,000Bã€‚
- é“¾è¡¨æ¯ä¸ªèŠ‚ç‚¹è‡³å°‘æœ‰ä¸€ä¸ªæŒ‡é’ˆï¼ˆx64 é€šå¸¸ 8Bï¼‰ï¼‹å¯¹é½å¼€é”€ï¼š1 ä¸ª `int`(4B) + 1 ä¸ªæŒ‡é’ˆ(8B) â†’ é€šå¸¸å¯¹é½æˆ **16B/èŠ‚ç‚¹**ã€‚
   1000 ä¸ªå…ƒç´  â‰ˆ **16KB**ï¼ˆä¸å«åˆ†é…å™¨å…ƒæ•°æ®ï¼‰ï¼Œæ˜¯æ•°ç»„çš„ 4 å€å·¦å³ã€‚

1. **å·²çŸ¥ä¸Šé™æ—¶æ— éœ€æ‰©å®¹**
    é¢˜ä¸­ A æ˜¯ **å›ºå®šå®¹é‡**ï¼Œå¦‚æœæœ€å¤§æ·±åº¦å·²çŸ¥ä¸”ä¸ä¼šè¶…è¿‡ï¼ˆæ¯”å¦‚ç®—æ³•é‡Œå·²çŸ¥ä¸Šç•Œ Nï¼‰ï¼Œæ•°ç»„å®ç°ç®€å•é«˜æ•ˆã€‚

------

### å…¶ä»–é€‰é¡¹ä¸ºä»€ä¹ˆé”™

- **A) éœ€è¦æ— é™å®¹é‡**
   å®ç°Aæ˜¯å®šé•¿ `arr[1000]`ï¼Œä¸æ˜¯æ— é™ã€‚çœŸæ­£è¦â€œæ— ä¸Šé™/ä¸ç¡®å®šä¸Šé™â€ï¼Œæ›´é€‚åˆé“¾è¡¨æˆ–â€œå¯æ‰©å±•æ•°ç»„â€ï¼ˆå¦‚ `std::vector`ï¼‰ï¼Œä½†é¢˜ç›®ç»™çš„ A ä¸æ˜¯å¯æ‰©å±•æ•°ç»„ã€‚
- **C) é¢‘ç¹è°ƒæ•´å¤§å°**
   å®šé•¿æ•°ç»„æ²¡æœ‰â€œè°ƒæ•´å¤§å°â€è¿™ä¸€è¯´ï¼›å¦‚æœè¯´çš„æ˜¯åŠ¨æ€æ•°ç»„æ‰©å®¹ï¼Œé‚£ä¹Ÿä¸æ˜¯é¢˜ä¸­ Aã€‚é“¾è¡¨åœ¨é€»è¾‘ä¸Šæ˜¯â€œæ¯æ¬¡ push åˆ†é…ä¸€ä¸ªèŠ‚ç‚¹â€ï¼Œä¸å­˜åœ¨æ•´ä½“æ‰©å®¹ä»£ä»·ã€‚
- **D) æ°¸è¿œ B æ›´å¥½**
   ä¸å¯¹ã€‚é“¾è¡¨çš„åŠ¨æ€æ€§æ˜¯ä¼˜ç‚¹ï¼Œä½†å®ƒçš„å†…å­˜/é€Ÿåº¦å¸¸æ•°å¼€é”€æ›´å¤§ï¼›å½“**å®¹é‡å¯é¢„æµ‹ä¸”å†…å­˜/æ€§èƒ½æ•æ„Ÿ**æ—¶ï¼Œæ•°ç»„æ›´å¥½ã€‚

------

### å®æˆ˜é€‰æ‹©å°æŠ„

- **å·²çŸ¥æœ€å¤§æ·±åº¦ã€æœ‰å›ºå®šä¸Šé™ã€è¿½æ±‚é€Ÿåº¦/èŠ‚çœå†…å­˜** â†’ **æ•°ç»„æ ˆï¼ˆAï¼‰**
- **ä¸Šé™æœªçŸ¥/å¯èƒ½å¾ˆå¤§ã€ä¸èƒ½é¢„åˆ†é…ã€å¸Œæœ› push æ°¸ä¸â€œæ»¡â€** â†’ **é“¾è¡¨æ ˆï¼ˆBï¼‰**
- **ä¸Šé™æœªçŸ¥ä½†å¸Œæœ›æ•°ç»„çš„å±€éƒ¨æ€§** â†’ ç”¨**åŠ¨æ€æ•°ç»„**ï¼ˆå¦‚ `vector`ï¼‰åšæ ˆï¼šå‡æ‘Š O(1) `push`ï¼Œå¶å°”æ‰©å®¹ã€‚

**ç»“è®ºï¼š** è¿™é¢˜é€‰ **B**ï¼Œç†ç”±æ˜¯æ•°ç»„åœ¨â€œå¤§å°å¯é¢„ä¼°æ—¶â€æ‹¥æœ‰æ›´å¥½çš„ç¼“å­˜å±€éƒ¨æ€§å’Œæ›´ä½çš„å†…å­˜/å¸¸æ•°å¼€é”€ã€‚









![image-20250913225740383](readme.assets/image-20250913225740383.png)

![image-20250913225750492](readme.assets/image-20250913225750492.png)



ä¸‹é¢è¿™é¢˜è¦ä½ åšä¸€ä¸ªâ€œé­”æ³•è¯æ°´åº“å­˜ï¼ˆMagic Potion Inventoryï¼‰â€ï¼ŒæŠŠåŠŸèƒ½å†™åœ¨**ç±» `PotionCraft`**é‡Œï¼Œå¹¶åˆ†åˆ° **`practice1.h`**ï¼ˆå£°æ˜ï¼‰å’Œ **`practice1.cpp`**ï¼ˆå®ç°ï¼‰ã€‚

## è¦æ±‚é€æ¡è§£é‡Š

- ç”¨ **`std::vector<std::string>`** ä¿å­˜è¯æ°´åå­—ï¼Œ**æŒ‰é…¿é€ é¡ºåº**è¿½åŠ ã€‚
- **`brewPotion(name)`**ï¼šå¯ä»¥é…¿é€ ä»»æ„è¯æ°´ï¼ˆå«é‡å¤ï¼‰ï¼ŒæŠŠ `name` è¿½åŠ è¿›åº“å­˜ã€‚
- **`consumePotion(name)`**ï¼šæŒ‰åå­—**æ¶ˆè€—ä¸€ä¸ªè¯æ°´**ï¼ˆè‹¥æœ‰é‡å¤ï¼Œåªåˆ **ç¬¬ä¸€æ¬¡å‡ºç°**çš„é‚£ä¸ªï¼‰ï¼Œå¹¶**è¿”å›è¢«åˆ çš„åå­—**ã€‚è‹¥ä¸å­˜åœ¨ï¼Œè¿”å›ç©ºä¸² `""`ã€‚
- **`brewMultiplePotions(vector<string> potions)`**ï¼šä¸€æ¬¡åŠ å…¥å¤šç§è¯æ°´ï¼ŒæŒ‰ `potions` ä¸­çš„**é¡ºåº**è¿½åŠ ã€‚
- **`fillExternalContainer(vector<string>& container)`**ï¼šæŠŠ**å½“å‰åº“å­˜**å¤åˆ¶åˆ°ä¸€ä¸ª**å¤–éƒ¨å®¹å™¨**ï¼ˆæŒ‰å¼•ç”¨ä¼ å…¥ï¼‰é‡Œï¼Œç­‰äºæ˜¯æŠŠåº“å­˜çš„å…ƒç´ **append** åˆ° `container` å°¾éƒ¨ï¼›**åº“å­˜æœ¬èº«ä¸æ”¹å˜**ã€‚æŒ‰é¢˜è¡¨æ ¼ï¼Œå®ƒ**è¿”å›ä¸€ä¸ª `vector<string>`**ï¼ˆå¯ä»¥è¿”å›å®¹å™¨çš„å‰¯æœ¬ï¼‰ã€‚

------

## å‚è€ƒå®ç°

### `practice1.h`

```cpp
#pragma once
#include <string>
#include <vector>

class PotionCraft {
public:
    // è¿”å›å½“å‰åº“å­˜ï¼ˆæŒ‰é…¿é€ é¡ºåºï¼‰
    std::vector<std::string> getPotions() const;

    // é…¿é€ ä¸€ç“¶è¯æ°´å¹¶åŠ å…¥åº“å­˜ï¼ˆå…è®¸é‡å¤ï¼‰
    void brewPotion(const std::string& name);

    // æ¶ˆè€—æŒ‡å®šåå­—çš„ç¬¬ä¸€ç“¶è¯æ°´ï¼›ä¸å­˜åœ¨åˆ™è¿”å›ç©ºä¸²
    std::string consumePotion(const std::string& name);

    // æ‰¹é‡é…¿é€ ï¼šæŒ‰ç»™å®šé¡ºåºæŠŠå¤šç“¶è¯æ°´åŠ å…¥åº“å­˜
    void brewMultiplePotions(const std::vector<std::string>& potions);

    // æŠŠåº“å­˜å†…å®¹è¿½åŠ åˆ°å¤–éƒ¨å®¹å™¨ï¼›åº“å­˜ä¸å˜ã€‚æŒ‰é¢˜æ„è¿”å›ä¸€ä¸ª vector<string>
    std::vector<std::string> fillExternalContainer(std::vector<std::string>& container) const;

private:
    std::vector<std::string> inventory_;
};
```

### `practice1.cpp`

```cpp
#include "practice1.h"
#include <algorithm> // std::find

std::vector<std::string> PotionCraft::getPotions() const {
    return inventory_; // è¿”å›æ‹·è´
}

void PotionCraft::brewPotion(const std::string& name) {
    inventory_.push_back(name);
}

std::string PotionCraft::consumePotion(const std::string& name) {
    auto it = std::find(inventory_.begin(), inventory_.end(), name);
    if (it == inventory_.end()) return "";
    std::string removed = *it;
    inventory_.erase(it); // åˆ é™¤é¦–æ¬¡å‡ºç°çš„é‚£ç“¶
    return removed;
}

void PotionCraft::brewMultiplePotions(const std::vector<std::string>& potions) {
    inventory_.insert(inventory_.end(), potions.begin(), potions.end());
}

std::vector<std::string> PotionCraft::fillExternalContainer(std::vector<std::string>& container) const {
    container.insert(container.end(), inventory_.begin(), inventory_.end()); // è¿½åŠ 
    return container; // æŒ‰é¢˜è¡¨æ ¼ï¼šè¿”å›ä¸€ä¸ª vector<string>ï¼ˆæ­¤å¤„è¿”å›å‚æ•°çš„å‰¯æœ¬ï¼‰
}
```

### ï¼ˆå¯é€‰ï¼‰ç®€å•è‡ªæµ‹ç”¨ä¾‹

```cpp
// g++ -std=c++17 practice1.cpp test.cpp -o run && ./run
#include "practice1.h"
#include <iostream>

int main() {
    PotionCraft pc;
    pc.brewPotion("healing");
    pc.brewMultiplePotions({"mana","haste","mana"});

    std::cout << pc.consumePotion("mana") << "\n"; // è¾“å‡º: mana
    std::cout << pc.consumePotion("shield") << "\n"; // è¾“å‡º: ç©ºè¡Œï¼ˆç©ºä¸²ï¼‰

    std::vector<std::string> bag = {"starter"};
    auto ret = pc.fillExternalContainer(bag); // bag ç°åœ¨å« {"starter","healing","haste","mana"}

    for (auto& s : ret) std::cout << s << " ";
    std::cout << "\n";
}
```

## å¤æ‚åº¦ä¸è¾¹ç•Œ

- `brewPotion`/`brewMultiplePotions`ï¼šæ‘Šè¿˜ O(1) / O(k)ï¼ˆk ä¸ºæ–°å¢æ•°ç›®ï¼‰ã€‚
- `consumePotion`ï¼šçº¿æ€§æŸ¥æ‰¾ O(n)ï¼Œåˆ é™¤ä¸€æ¬¡ O(n)ã€‚
- `fillExternalContainer`ï¼šè¿½åŠ  O(n)ï¼›æŒ‰é¢˜ç›®è¿”å›å‰¯æœ¬åˆå¤šä¸€æ¬¡æ‹·è´ O(n)ï¼ˆå¦‚æœå…è®¸ï¼Œä¹Ÿå¯ä»¥æŠŠè¿”å›ç±»å‹æ”¹æˆ `std::vector<std::string>&` ä»¥é¿å…å¤šæ‹·è´ï¼‰ã€‚

## æäº¤å°æç¤º

- æ–‡ä»¶åè¦ä¸é¢˜ç›®ä¸€è‡´ï¼ˆ`practice1.h/.cpp`ï¼‰ï¼Œå‡½æ•°ç­¾åä¹Ÿè¦å®Œå…¨åŒ¹é…ã€‚
- æœ¬é¢˜å…è®¸é‡å¤ã€åˆ é™¤é¦–æ¬¡å‡ºç°ã€å¤–éƒ¨å®¹å™¨**è¿½åŠ **è€Œéè¦†ç›–ï¼Œè¿™äº›æ˜¯å¸¸è§ä¸¢åˆ†ç‚¹ã€‚









![image-20250913230051080](readme.assets/image-20250913230051080.png)

è¿™é¢˜è¦ä½ ç”¨**å°¾é€’å½’ï¼ˆtail recursionï¼‰\**ç”Ÿæˆâ€œæ”¹é€ æ–æ³¢é‚£å¥‘â€ï¼ˆModified Fibonacciï¼‰åºåˆ—çš„\**å‰ n ä¸ªæ•°**ï¼Œå¹¶è¿”å›ä¸€ä¸ª `std::vector<int>`ã€‚

### åºåˆ—å®šä¹‰

- `MF(0) = 2`
- `MF(1) = 3`
- `MF(n) = MF(n-1) * MF(n-2)`ï¼ˆn â‰¥ 2ï¼Œæ³¨æ„æ˜¯**ä¹˜æ³•**ï¼‰

### é¢˜ç›®è¦æ±‚æ‹†è§£

- **å°¾é€’å½’**ï¼šé€’å½’å‡½æ•°é‡Œ**æœ€åä¸€æ¡è¯­å¥**å¿…é¡»æ˜¯é€’å½’è°ƒç”¨ï¼ˆè¿”å›å€¼ä¸å†å‚ä¸è¿ç®—ï¼‰ã€‚
- **è¿”å› vector**ï¼šæŠŠå‰ n ä¸ªæ•°ä¾æ¬¡æ”¾è¿› `std::vector<int>`ã€‚
- **è¾…åŠ©å‡½æ•° + ç´¯åŠ å™¨å‚æ•°**ï¼šç”¨å‚æ•°ä¿å­˜â€œä¸Šä¸¤ä¸ªå€¼â€å’Œâ€œå½“å‰ä¸‹æ ‡â€ï¼Œæ¯æ¬¡åªç®—ä¸‹ä¸€ä¸ªæ•°ç„¶åå°¾é€’å½’ã€‚
- **ä¸è¦æ”¾è¿›ç±»é‡Œ**ï¼›éµå¾ª SOLID/ADTâ€”â€”åšæˆ**çº¯å‡½æ•°**ã€æ— å…¨å±€å¯å˜çŠ¶æ€ã€‚

------

## å®ç°æ€è·¯

1. å¤„ç†è¾¹ç•Œï¼š
   - n â‰¤ 0 â†’ è¿”å›ç©ºå‘é‡
   - n = 1 â†’ `[2]`
   - n = 2 â†’ `[2, 3]`
2. ä»ç¬¬ 3 ä¸ªæ•°å¼€å§‹ï¼ˆä¸‹æ ‡ 2ï¼‰ï¼Œç”¨å°¾é€’å½’ï¼š
    ç»´æŠ¤ `prev2 = MF(k-2)`ã€`prev1 = MF(k-1)`ï¼Œä¸‹ä¸€é¡¹ `next = prev1 * prev2`ã€‚
    å…ˆ `push_back(next)`ï¼Œ**æœ€å**è°ƒç”¨é€’å½’è¿›å…¥ä¸‹ä¸€æ­¥ï¼ˆ`tail call`ï¼‰ã€‚

> æ³¨ï¼šæ•°å€¼å¢é•¿éå¸¸å¿«ï¼Œ`int` å¾ˆå¿«ä¼šæº¢å‡ºï¼ˆå¤§çº¦åˆ°ç¬¬ 9 é¡¹å°±è¶… 32 ä½ï¼‰ã€‚é¢˜ç›®è¦æ±‚è¿”å› `vector<int>`ï¼Œå¯åœ¨å†…éƒ¨ç”¨ `long long` è®¡ç®—åå† `static_cast<int>`ã€‚

------

## å‚è€ƒä»£ç ï¼ˆ`modified_fibonacci.cpp`ï¼‰

```cpp
#include <vector>

// è¾…åŠ©ï¼šå°¾é€’å½’ç”Ÿæˆç¬¬ i(>=2) é¡¹åŠä»¥åï¼Œç›´åˆ°ç”Ÿæˆ target ä¸ª
static void buildModFibTail(int target, int i,
                            long long prev2, long long prev1,
                            std::vector<int>& out) {
    if (i >= target) return;                 // é€’å½’åŸº
    long long next = prev1 * prev2;          // è®¡ç®—ä¸‹ä¸€é¡¹
    out.push_back(static_cast<int>(next));   // å…ˆæ”¾å…¥ç»“æœ
    buildModFibTail(target, i + 1,           // å°¾é€’å½’ï¼ˆæœ€åä¸€æ­¥ï¼‰
                    prev1, next, out);
}

// APIï¼šè¿”å›å‰ n ä¸ª Modified Fibonacci æ•°
std::vector<int> modifiedFibonacci(int n) {
    std::vector<int> res;
    if (n <= 0) return res;
    res.reserve(n);

    // ç§å­
    res.push_back(2);
    if (n == 1) return res;
    res.push_back(3);
    if (n == 2) return res;

    // ä»ä¸‹æ ‡ 2 å¼€å§‹å°¾é€’å½’ç”Ÿæˆ
    buildModFibTail(n, 2, 2, 3, res);
    return res;
}

/*
ç¤ºä¾‹ï¼ˆå¯é€‰æ¼”ç¤ºï¼Œç”¨æ—¶è‡ªè¡Œæ‰“å¼€ï¼‰ï¼š
#include <iostream>
int main() {
    auto v = modifiedFibonacci(6);
    for (size_t i = 0; i < v.size(); ++i) {
        if (i) std::cout << ' ';
        std::cout << v[i];
    }
    std::cout << '\n'; // è¾“å‡º: 2 3 6 18 108 1944
}
*/
```

### å¤æ‚åº¦

- æ—¶é—´ `O(n)`ï¼Œé€’å½’æ·±åº¦ `O(n)`ï¼›ç©ºé—´ä¸»æ¥è‡ªè¿”å›çš„ `vector`ã€‚
- è‹¥æ‹…å¿ƒé€’å½’æ ˆï¼Œå¯æ”¹å°¾é€’å½’ä¸ºç­‰ä»·å¾ªç¯ï¼›ä½†æœ¬é¢˜æ˜ç¡®è¦æ±‚å°¾é€’å½’ï¼Œä¸Šé¢å®ç°å·²æ»¡è¶³â€œæœ€åä¸€æ­¥æ˜¯é€’å½’è°ƒç”¨â€ã€‚

éœ€è¦æˆ‘å¸®ä½ æŠŠè¿™æ®µä»£ç æ”¹æˆä½ ä»¬è¯„æµ‹ç¯å¢ƒçš„å‡½æ•°ç­¾åæˆ–åŠ ä¸Š I/O æ¨¡æ¿ï¼Œä¹Ÿå¯ä»¥ç›´æ¥è´´æˆ‘æ¥é€‚é…ã€‚